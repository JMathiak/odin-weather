(()=>{"use strict";const e=config.API_KEY,t={units:"us",address:"",days:[],currentFeel:0,currentHumidity:0,currentTemp:0,currentWind:0};async function n(n,d){try{const r=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${n}/next7days?unitGroup=${d}&include=days,hours&key=${e}&contentType=json`,{mode:"cors"}),i=await r.json();let c=await async function(e){let n=[];t.currentTemp=Math.round(e.days[0].hours[0].temp),t.currentFeel=Math.round(e.days[0].hours[0].feelslike),t.currentHumidity=Math.round(e.days[0].hours[0].humidity),t.currentWind=Math.round(e.days[0].hours[0].windspeed);for(let t=0;t<5;t++){let d={location:e.address,date:e.days[t].datetime,low:e.days[t].tempmin,high:e.days[t].tempmax,hourly:e.days[t].hours,condition:e.days[t].conditions,precip:e.days[t].precipprob,icon:e.days[t].icon};n.push(d)}return n}(i);return t.address=i.resolvedAddress,document.getElementById("locationInput").value="",c}catch{alert("No Location Found, Try Again"),document.getElementById("locationInput").value=""}}async function d(){let e=document.getElementById("card-holder"),d="",r="";for(e.hasChildNodes()?(d=document.getElementById("locationInput").value,r=t.units):(d="dallas",r="us"),t.days.length>0&&(t.days=[]),t.days=await n(d,r);e.firstChild;)e.removeChild(e.firstChild);let i=document.getElementById("location");i.textContent="Showing Weather for: "+t.address;let c=document.getElementById("switch-units");"us"==t.units?(i.innerText+="(°F)",c.innerText="Switch to °C"):(i.innerText+="(°C)",c.innerText="Switch to °F"),t.days.forEach((t=>{let n=document.createElement("div");n.className="card";let d=function(e){let t=e.split("-");return["January","February","March","April","May","June","July","August","September","October","November","December"][t[1]-1]+" "+parseInt(t[2],10)}(t.date),r=document.createElement("div");r.className="date",r.innerText=d,n.appendChild(r);let i=document.createElement("div");i.className="icon";let c=document.createElement("img");n.appendChild(i),i.appendChild(c),c.src="./icons/"+t.icon+".svg";let s=document.createElement("div");s.className="temp",s.textContent="High: "+Math.round(t.high)+"° Low: "+Math.round(t.low)+"°",n.appendChild(s);let a=document.createElement("div");a.innerText=t.condition,a.className="condition",n.appendChild(a);let o=document.createElement("div");o.innerText="Precipitation: "+Math.round(t.precip/10)+"%",o.className="precip",n.appendChild(o),e.appendChild(n)})),document.getElementById("container").classList.add(t.days[0].icon),document.getElementsByClassName("card")[0].getElementsByClassName("temp"),document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°",document.getElementById("current-humidity").innerText=t.currentHumidity+"%",document.getElementById("current-wind").innerText=t.currentWind+" mph"}async function r(){"us"==t.units?t.units="metric":t.units="us",t.days=await n(t.address,t.units);let e=document.getElementById("location");e.textContent="Showing Weather for: "+t.address;let d=document.getElementById("switch-units"),r=document.getElementById("current-wind");"us"==t.units?(e.innerText+="(°F)",d.innerText="Switch to °C",r.innerText=t.currentWind+" mph"):(e.innerText+="(°C)",d.innerText="Switch to °F",r.innerText=t.currentWind+" km/h");let i=document.getElementsByClassName("card");for(let e=0;e<t.days.length;e++)i[e].getElementsByClassName("temp")[0].innerText="High: "+Math.round(t.days[e].high)+"° Low: "+Math.round(t.days[e].low)+"°";document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°"}window.onload=function(){document.getElementById("search-for-weather").addEventListener("click",d),document.getElementById("switch-units").addEventListener("click",r),d()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElEN0JjLE1BQXZCM0UsRUFBY0MsTUFDaEJELEVBQWNDLE1BQVEsU0FFdEJELEVBQWNDLE1BQVEsS0M2QnhCRCxFQUFjRyxXQUFhTSxFQUN6QlQsRUFBY0UsUUFDZEYsRUFBY0MsT0FHaEIsSUFBSW1ELEVBQWNWLFNBQVNDLGVBQWUsWUFDMUNTLEVBQVlDLFlBQWMsd0JBQTBCckQsRUFBY0UsUUFFbEUsSUFBSW9ELEVBQVVaLFNBQVNDLGVBQWUsZ0JBQ2xDaUMsRUFBZWxDLFNBQVNDLGVBQWUsZ0JBRWhCLE1BQXZCM0MsRUFBY0MsT0FDaEJtRCxFQUFZRyxXQUFhLE9BQ3pCRCxFQUFRQyxVQUFZLGVBQ3BCcUIsRUFBYXJCLFVBQVl2RCxFQUFjTyxZQUFjLFNBRXJENkMsRUFBWUcsV0FBYSxPQUN6QkQsRUFBUUMsVUFBWSxlQUNwQnFCLEVBQWFyQixVQUFZdkQsRUFBY08sWUFBYyxTQUd2RCxJQUFJc0UsRUFBUW5DLFNBQVNnQyx1QkFBdUIsUUFDNUMsSUFBSyxJQUFJbEQsRUFBSSxFQUFHQSxFQUFJeEIsRUFBY0csS0FBSzhDLE9BQVF6QixJQUM5QnFELEVBQU1yRCxHQUFHa0QsdUJBQXVCLFFBQ3RDLEdBQUduQixVQUNWLFNBQ0F0QyxLQUFLQyxNQUFNbEIsRUFBY0csS0FBS3FCLEdBQUdPLE1BRGpDLFVBSUFkLEtBQUtDLE1BQU1sQixFQUFjRyxLQUFLcUIsR0FBR0ssS0FDakMsSUFHZWEsU0FBU0MsZUFBZSxnQkFDOUJZLFVBQVl2RCxFQUFjTSxZQUFjLElBRWxDb0MsU0FBU0MsZUFBZSxpQkFDOUJZLFVBQVl2RCxFQUFjSSxZQUFjLElBbUN2RDBFLE9BQU9DLE9BQVMsV0E5QmRyQyxTQUNHQyxlQUFlLHNCQUNmcUMsaUJBQWlCLFFBQVNsQyxHQUU3QkosU0FBU0MsZUFBZSxnQkFBZ0JxQyxpQkFBaUIsUUFBU0wsR0E0QmxFN0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4td2VhdGhlci8uL3NyYy9tb2R1bGVzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi13ZWF0aGVyLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSUtleSA9IGNvbmZpZy5BUElfS0VZO1xyXG5cclxuLy9BbiBvYmplY3QgdGhhdCBob2xkcyBhbGwgaW5mbyBuZWVkZWQgZm9yIHJlbmRlcmluZy5cclxuY29uc3Qgd2VhdGhlck9iamVjdCA9ICgoKSA9PiB7XHJcbiAgbGV0IHVuaXRzID0gXCJ1c1wiO1xyXG4gIGxldCBhZGRyZXNzID0gXCJcIjtcclxuICBsZXQgY3VycmVudFRlbXAgPSAwO1xyXG4gIGxldCBjdXJyZW50RmVlbCA9IDA7XHJcbiAgbGV0IGN1cnJlbnRIdW1pZGl0eSA9IDA7XHJcbiAgbGV0IGN1cnJlbnRXaW5kID0gMDtcclxuICBsZXQgZGF5cyA9IFtdO1xyXG4gIHJldHVybiB7XHJcbiAgICB1bml0cyxcclxuICAgIGFkZHJlc3MsXHJcbiAgICBkYXlzLFxyXG4gICAgY3VycmVudEZlZWwsXHJcbiAgICBjdXJyZW50SHVtaWRpdHksXHJcbiAgICBjdXJyZW50VGVtcCxcclxuICAgIGN1cnJlbnRXaW5kLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG4vL0Z1bmN0aW9uIHVzZWQgdG8gZ2V0IHdlYXRoZXIgd2hlbiBhIG5ldyBzZWFyY2ggaXMgbWFkZSBvciB3aGVuIHVuaXRzIGFyZSBzd2l0Y2hlZC5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlcihzZWFyY2gsIHVuaXRzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL3dlYXRoZXIudmlzdWFsY3Jvc3NpbmcuY29tL1Zpc3VhbENyb3NzaW5nV2ViU2VydmljZXMvcmVzdC9zZXJ2aWNlcy90aW1lbGluZS8ke3NlYXJjaH0vbmV4dDdkYXlzP3VuaXRHcm91cD0ke3VuaXRzfSZpbmNsdWRlPWRheXMsaG91cnMma2V5PSR7QVBJS2V5fSZjb250ZW50VHlwZT1qc29uYCxcclxuICAgICAgeyBtb2RlOiBcImNvcnNcIiB9XHJcbiAgICApO1xyXG4gICAgY29uc3Qgd2VhdGhlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGxldCBkYXlzID0gYXdhaXQgcXVlcnlKU09OKHdlYXRoZXIpO1xyXG4gICAgd2VhdGhlck9iamVjdC5hZGRyZXNzID0gd2VhdGhlci5yZXNvbHZlZEFkZHJlc3M7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvY2F0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgcmV0dXJuIGRheXM7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICBhbGVydChcIk5vIExvY2F0aW9uIEZvdW5kLCBUcnkgQWdhaW5cIik7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvY2F0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gIH1cclxufVxyXG5cclxuLy9GdW5jdGlvbiB0byBleHRyYWN0IG5lZWRlZCBpbmZvIGZyb20gdGhlIEFQSSBjYWxsLlxyXG5hc3luYyBmdW5jdGlvbiBxdWVyeUpTT04od2VhdGhlcikge1xyXG4gIGxldCBkYXlzT2ZJbnRlcmVzdCA9IFtdO1xyXG4gIHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgPSBNYXRoLnJvdW5kKHdlYXRoZXIuZGF5c1swXS5ob3Vyc1swXS50ZW1wKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRGZWVsID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0uZmVlbHNsaWtlKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRIdW1pZGl0eSA9IE1hdGgucm91bmQod2VhdGhlci5kYXlzWzBdLmhvdXJzWzBdLmh1bWlkaXR5KTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0ud2luZHNwZWVkKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgbGV0IGRheSA9IHtcclxuICAgICAgbG9jYXRpb246IHdlYXRoZXIuYWRkcmVzcyxcclxuICAgICAgZGF0ZTogd2VhdGhlci5kYXlzW2ldLmRhdGV0aW1lLFxyXG4gICAgICBsb3c6IHdlYXRoZXIuZGF5c1tpXS50ZW1wbWluLFxyXG4gICAgICBoaWdoOiB3ZWF0aGVyLmRheXNbaV0udGVtcG1heCxcclxuICAgICAgaG91cmx5OiB3ZWF0aGVyLmRheXNbaV0uaG91cnMsXHJcbiAgICAgIGNvbmRpdGlvbjogd2VhdGhlci5kYXlzW2ldLmNvbmRpdGlvbnMsXHJcbiAgICAgIHByZWNpcDogd2VhdGhlci5kYXlzW2ldLnByZWNpcHByb2IsXHJcbiAgICAgIGljb246IHdlYXRoZXIuZGF5c1tpXS5pY29uLFxyXG4gICAgfTtcclxuICAgIGRheXNPZkludGVyZXN0LnB1c2goZGF5KTtcclxuICB9XHJcbiAgcmV0dXJuIGRheXNPZkludGVyZXN0O1xyXG59XHJcblxyXG4vL0Z1bmN0aW9uIHRvIGdldCB0aGUgc2VhcmNoIHZhbHVlIGZyb20gdGhlIEhUTUwuXHJcbmZ1bmN0aW9uIGdldFNlYXJjaCgpIHtcclxuICBsZXQgc2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvbklucHV0XCIpLnZhbHVlO1xyXG4gIHJldHVybiBzZWFyY2g7XHJcbn1cclxuXHJcbi8vRnVuY3Rpb24gdGhhdCBjaGFuZ2VzIHRoZSB1bml0IHRoYXQgaXMgc3RvcmVkIGluIHRoZSB3ZWF0aGVyIG9iamVjdC5cclxuZnVuY3Rpb24gc3dpdGNoVW5pdHMoKSB7XHJcbiAgaWYgKHdlYXRoZXJPYmplY3QudW5pdHMgPT0gXCJ1c1wiKSB7XHJcbiAgICB3ZWF0aGVyT2JqZWN0LnVuaXRzID0gXCJtZXRyaWNcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgd2VhdGhlck9iamVjdC51bml0cyA9IFwidXNcIjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IHdlYXRoZXJPYmplY3QsIGdldFdlYXRoZXIsIHN3aXRjaFVuaXRzLCBnZXRTZWFyY2ggfTtcclxuIiwiaW1wb3J0IHtcclxuICB3ZWF0aGVyT2JqZWN0LFxyXG4gIGdldFdlYXRoZXIsXHJcbiAgc3dpdGNoVW5pdHMsXHJcbiAgZ2V0U2VhcmNoLFxyXG59IGZyb20gXCIuL21vZHVsZXMvd2VhdGhlci5qc1wiO1xyXG5cclxuLy9GdW5jdGlvbiBmb3IgcmVuZGVyaW5nIHRoZSBkYXRhIHRoYXQgaXMgc3RvcmVkIGluIHRoZSB3ZWF0aGVyIG9iamVjdC4gQ2FsbGVkXHJcbi8vIHdoZW4gYSBuZXcgbG9jYXRpb24gaXMgc2VhcmNoZWQgYWxzbyBvbiBwYWdlIGxvYWQuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlbmRlckRheXMoKSB7XHJcbiAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZC1ob2xkZXJcIik7XHJcbiAgbGV0IHNlYXJjaCA9IFwiXCI7XHJcbiAgbGV0IHVuaXRzID0gXCJcIjtcclxuICBpZiAoZGl2Lmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgc2VhcmNoID0gZ2V0U2VhcmNoKCk7XHJcbiAgICB1bml0cyA9IHdlYXRoZXJPYmplY3QudW5pdHM7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlYXJjaCA9IFwiZGFsbGFzXCI7XHJcbiAgICB1bml0cyA9IFwidXNcIjtcclxuICB9XHJcbiAgaWYgKHdlYXRoZXJPYmplY3QuZGF5cy5sZW5ndGggPiAwKSB7XHJcbiAgICB3ZWF0aGVyT2JqZWN0LmRheXMgPSBbXTtcclxuICB9XHJcblxyXG4gIHdlYXRoZXJPYmplY3QuZGF5cyA9IGF3YWl0IGdldFdlYXRoZXIoc2VhcmNoLCB1bml0cyk7XHJcblxyXG4gIHdoaWxlIChkaXYuZmlyc3RDaGlsZCkge1xyXG4gICAgZGl2LnJlbW92ZUNoaWxkKGRpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbiAgbGV0IGxvY2F0aW9uRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvblwiKTtcclxuICBsb2NhdGlvbkRpdi50ZXh0Q29udGVudCA9IFwiU2hvd2luZyBXZWF0aGVyIGZvcjogXCIgKyB3ZWF0aGVyT2JqZWN0LmFkZHJlc3M7XHJcbiAgbGV0IHVuaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aXRjaC11bml0c1wiKTtcclxuICBpZiAod2VhdGhlck9iamVjdC51bml0cyA9PSBcInVzXCIpIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwRilcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwQ2A7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwQylcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwRmA7XHJcbiAgfVxyXG4gIHdlYXRoZXJPYmplY3QuZGF5cy5mb3JFYWNoKChkYXkpID0+IHtcclxuICAgIGxldCBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbm5lckRpdi5jbGFzc05hbWUgPSBcImNhcmRcIjtcclxuXHJcbiAgICBsZXQgZGF0ZSA9IHBhcnNlRGF0ZShkYXkuZGF0ZSk7XHJcbiAgICBsZXQgZGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkYXRlRGl2LmNsYXNzTmFtZSA9IFwiZGF0ZVwiO1xyXG4gICAgZGF0ZURpdi5pbm5lclRleHQgPSBkYXRlO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQoZGF0ZURpdik7XHJcblxyXG4gICAgbGV0IGljb25Ib2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaWNvbkhvbGRlci5jbGFzc05hbWUgPSBcImljb25cIjtcclxuICAgIGxldCBpY29uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKGljb25Ib2xkZXIpO1xyXG4gICAgaWNvbkhvbGRlci5hcHBlbmRDaGlsZChpY29uRGl2KTtcclxuICAgIGljb25EaXYuc3JjID0gXCIuL2ljb25zL1wiICsgZGF5Lmljb24gKyBcIi5zdmdcIjtcclxuXHJcbiAgICBsZXQgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0ZW1wRGl2LmNsYXNzTmFtZSA9IFwidGVtcFwiO1xyXG4gICAgdGVtcERpdi50ZXh0Q29udGVudCA9XHJcbiAgICAgIFwiSGlnaDogXCIgK1xyXG4gICAgICBNYXRoLnJvdW5kKGRheS5oaWdoKSArXHJcbiAgICAgIGBcXHUwMEIwYCArXHJcbiAgICAgIFwiIExvdzogXCIgK1xyXG4gICAgICBNYXRoLnJvdW5kKGRheS5sb3cpICtcclxuICAgICAgYFxcdTAwQjBgO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQodGVtcERpdik7XHJcblxyXG4gICAgbGV0IGNvbmREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29uZERpdi5pbm5lclRleHQgPSBkYXkuY29uZGl0aW9uO1xyXG4gICAgY29uZERpdi5jbGFzc05hbWUgPSBcImNvbmRpdGlvblwiO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQoY29uZERpdik7XHJcblxyXG4gICAgbGV0IHByZWNpcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBwcmVjaXBEaXYuaW5uZXJUZXh0ID0gXCJQcmVjaXBpdGF0aW9uOiBcIiArIE1hdGgucm91bmQoZGF5LnByZWNpcCAvIDEwKSArIFwiJVwiO1xyXG4gICAgcHJlY2lwRGl2LmNsYXNzTmFtZSA9IFwicHJlY2lwXCI7XHJcbiAgICBpbm5lckRpdi5hcHBlbmRDaGlsZChwcmVjaXBEaXYpO1xyXG4gICAgZGl2LmFwcGVuZENoaWxkKGlubmVyRGl2KTtcclxuICB9KTtcclxuXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQod2VhdGhlck9iamVjdC5kYXlzWzBdLmljb24pO1xyXG4gIGxldCBub2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjYXJkXCIpO1xyXG4gIGxldCB0ZCA9IG5vZGVzWzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZW1wXCIpO1xyXG5cclxuICBsZXQgY3VyclRlbXBDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LXRlbXBcIik7XHJcbiAgY3VyclRlbXBDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgKyBcIlxcdTAwQjBcIjtcclxuXHJcbiAgbGV0IGN1cnJGZWVsQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1mZWVsc1wiKTtcclxuICBjdXJyRmVlbENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50RmVlbCArIFwiXFx1MDBCMFwiO1xyXG5cclxuICBsZXQgY3Vyckh1bWlkQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1odW1pZGl0eVwiKTtcclxuICBjdXJySHVtaWRDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudEh1bWlkaXR5ICsgXCIlXCI7XHJcblxyXG4gIGxldCBjdXJyV2luZENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtd2luZFwiKTtcclxuICBjdXJyV2luZENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50V2luZCArIFwiIG1waFwiO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiBmb3Igc3dpdGNoaW5nIHVuaXRzIGJldHdlZW4gdXMgYW5kIG1ldHJpYy4gQ2FsbGVkIHdoZW4gdGhlIHN3aXRjaCB1bml0cyBidXR0b24gaXMgY2xpY2tlZC5cclxuLy8gVXBkYXRlcyB0ZW1wZXJhdHVyZXMgb24gY2FyZHMgYW5kIGN1cnJlbnQgY29uZGl0aW9uIHRlbXBlcmF0dXJlcy4gQWxzbyB1cGRhdGVzIHdpbmQgc3BlZWQgaW4gY3VycmVudCBjb25kaXRpb25zLlxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVEYXlzKCkge1xyXG4gIHN3aXRjaFVuaXRzKCk7XHJcblxyXG4gIHdlYXRoZXJPYmplY3QuZGF5cyA9IGF3YWl0IGdldFdlYXRoZXIoXHJcbiAgICB3ZWF0aGVyT2JqZWN0LmFkZHJlc3MsXHJcbiAgICB3ZWF0aGVyT2JqZWN0LnVuaXRzXHJcbiAgKTtcclxuXHJcbiAgbGV0IGxvY2F0aW9uRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvblwiKTtcclxuICBsb2NhdGlvbkRpdi50ZXh0Q29udGVudCA9IFwiU2hvd2luZyBXZWF0aGVyIGZvcjogXCIgKyB3ZWF0aGVyT2JqZWN0LmFkZHJlc3M7XHJcblxyXG4gIGxldCB1bml0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzd2l0Y2gtdW5pdHNcIik7XHJcbiAgbGV0IGN1cnJXaW5kQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC13aW5kXCIpO1xyXG5cclxuICBpZiAod2VhdGhlck9iamVjdC51bml0cyA9PSBcInVzXCIpIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwRilcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwQ2A7XHJcbiAgICBjdXJyV2luZENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50V2luZCArIFwiIG1waFwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsb2NhdGlvbkRpdi5pbm5lclRleHQgKz0gXCIoXFx1MDBCMEMpXCI7XHJcbiAgICB1bml0QnRuLmlubmVyVGV4dCA9IGBTd2l0Y2ggdG8gXFx1MDBCMEZgO1xyXG4gICAgY3VycldpbmRDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFdpbmQgKyBcIiBrbS9oXCI7XHJcbiAgfVxyXG5cclxuICBsZXQgY2FyZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2FyZFwiKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHdlYXRoZXJPYmplY3QuZGF5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IHRlbXBEaXZzID0gY2FyZHNbaV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRlbXBcIik7XHJcbiAgICB0ZW1wRGl2c1swXS5pbm5lclRleHQgPVxyXG4gICAgICBcIkhpZ2g6IFwiICtcclxuICAgICAgTWF0aC5yb3VuZCh3ZWF0aGVyT2JqZWN0LmRheXNbaV0uaGlnaCkgK1xyXG4gICAgICBgXFx1MDBCMGAgK1xyXG4gICAgICBcIiBMb3c6IFwiICtcclxuICAgICAgTWF0aC5yb3VuZCh3ZWF0aGVyT2JqZWN0LmRheXNbaV0ubG93KSArXHJcbiAgICAgIGBcXHUwMEIwYDtcclxuICB9XHJcblxyXG4gIGxldCBjdXJyVGVtcENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtdGVtcFwiKTtcclxuICBjdXJyVGVtcENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50VGVtcCArIFwiXFx1MDBCMFwiO1xyXG5cclxuICBsZXQgY3VyckZlZWxDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LWZlZWxzXCIpO1xyXG4gIGN1cnJGZWVsQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRGZWVsICsgXCJcXHUwMEIwXCI7XHJcbn1cclxuXHJcbi8vQWRkcyBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBzZWFyY2ggYnV0dG9uIGFuZCB0aGUgc3dpdGNoIHVuaXRzIGJ1dHRvbi5cclxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLWZvci13ZWF0aGVyXCIpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlbmRlckRheXMpO1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aXRjaC11bml0c1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdXBkYXRlRGF5cyk7XHJcbn1cclxuXHJcbi8vQ2FsbGVkIHdoZW4gY2FyZHMgYXJlIHJlbmRlcmVkLiBVc2VkIHRvIHByb3Blcmx5IGRpc3BsYXkgdGhlIG1vbnRoIG5hbWUgKHJhdGhlciB0aGFuIG1vbnRoIG51bWJlcikgYW5kIGRheSBpbiBjb3JyZWN0IG9yZGVyLlxyXG5mdW5jdGlvbiBwYXJzZURhdGUoZGF0ZSkge1xyXG4gIGxldCBtb250aHMgPSBbXHJcbiAgICBcIkphbnVhcnlcIixcclxuICAgIFwiRmVicnVhcnlcIixcclxuICAgIFwiTWFyY2hcIixcclxuICAgIFwiQXByaWxcIixcclxuICAgIFwiTWF5XCIsXHJcbiAgICBcIkp1bmVcIixcclxuICAgIFwiSnVseVwiLFxyXG4gICAgXCJBdWd1c3RcIixcclxuICAgIFwiU2VwdGVtYmVyXCIsXHJcbiAgICBcIk9jdG9iZXJcIixcclxuICAgIFwiTm92ZW1iZXJcIixcclxuICAgIFwiRGVjZW1iZXJcIixcclxuICBdO1xyXG4gIGxldCBzcGxpdERhdGUgPSBkYXRlLnNwbGl0KFwiLVwiKTtcclxuICBsZXQgbW9udGggPSBtb250aHNbc3BsaXREYXRlWzFdIC0gMV07XHJcblxyXG4gIHJldHVybiBtb250aCArIFwiIFwiICsgcGFyc2VJbnQoc3BsaXREYXRlWzJdLCAxMCk7XHJcbn1cclxuXHJcbi8vQ2FsbHMgZnVuY3Rpb25zIGZvciBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZW5kZXIgZGF5cyBmb3IgYW4gaW5pdGlhbCByZW5kZXJzLiBBIGRlZmF1bHQgbG9jYXRpb24gaXMgc2V0IGZvciB0aGUgc2VhcmNoIGluIHRoZSByZW5kZXIgZGF5cyBtZXRob2QuXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgYWRkRXZlbnRMaXN0ZW5lcigpO1xyXG4gIHJlbmRlckRheXMoKTtcclxufTtcclxuIl0sIm5hbWVzIjpbIkFQSUtleSIsImNvbmZpZyIsIkFQSV9LRVkiLCJ3ZWF0aGVyT2JqZWN0IiwidW5pdHMiLCJhZGRyZXNzIiwiZGF5cyIsImN1cnJlbnRGZWVsIiwiY3VycmVudEh1bWlkaXR5IiwiY3VycmVudFRlbXAiLCJjdXJyZW50V2luZCIsImFzeW5jIiwiZ2V0V2VhdGhlciIsInNlYXJjaCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwid2VhdGhlciIsImpzb24iLCJkYXlzT2ZJbnRlcmVzdCIsIk1hdGgiLCJyb3VuZCIsImhvdXJzIiwidGVtcCIsImZlZWxzbGlrZSIsImh1bWlkaXR5Iiwid2luZHNwZWVkIiwiaSIsImRheSIsImxvY2F0aW9uIiwiZGF0ZSIsImRhdGV0aW1lIiwibG93IiwidGVtcG1pbiIsImhpZ2giLCJ0ZW1wbWF4IiwiaG91cmx5IiwiY29uZGl0aW9uIiwiY29uZGl0aW9ucyIsInByZWNpcCIsInByZWNpcHByb2IiLCJpY29uIiwicHVzaCIsInF1ZXJ5SlNPTiIsInJlc29sdmVkQWRkcmVzcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsImFsZXJ0IiwicmVuZGVyRGF5cyIsImRpdiIsImhhc0NoaWxkTm9kZXMiLCJsZW5ndGgiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJsb2NhdGlvbkRpdiIsInRleHRDb250ZW50IiwidW5pdEJ0biIsImlubmVyVGV4dCIsImZvckVhY2giLCJpbm5lckRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzcGxpdERhdGUiLCJzcGxpdCIsInBhcnNlSW50IiwicGFyc2VEYXRlIiwiZGF0ZURpdiIsImFwcGVuZENoaWxkIiwiaWNvbkhvbGRlciIsImljb25EaXYiLCJzcmMiLCJ0ZW1wRGl2IiwiY29uZERpdiIsInByZWNpcERpdiIsImNsYXNzTGlzdCIsImFkZCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ1cGRhdGVEYXlzIiwiY3VycldpbmRDZWxsIiwiY2FyZHMiLCJ3aW5kb3ciLCJvbmxvYWQiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==