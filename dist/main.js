(()=>{"use strict";const e=config.API_KEY,t={units:"us",address:"",days:[],currentFeel:0,currentHumidity:0,currentTemp:0,currentWind:0};async function n(e){console.log(e);let n=[];t.currentTemp=Math.round(e.days[0].hours[0].temp),t.currentFeel=Math.round(e.days[0].hours[0].feelslike),t.currentHumidity=Math.round(e.days[0].hours[0].humidity),t.currentWind=Math.round(e.days[0].hours[0].windspeed);for(let t=0;t<5;t++){let o={location:e.address,date:e.days[t].datetime,low:e.days[t].tempmin,high:e.days[t].tempmax,hourly:e.days[t].hours,condition:e.days[t].conditions,precip:e.days[t].precipprob,icon:e.days[t].icon};n.push(o)}return n}async function o(){let o=document.getElementById("card-holder"),r="",i="";for(o.hasChildNodes()?(r=document.getElementById("locationInput").value,i=t.units):(r="dallas",i="us"),t.days.length>0&&(t.days=[]),t.days=await async function(o,r){console.log(o),console.log(r);try{const i=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${o}/next7days?unitGroup=${r}&include=days,hours&key=${e}&contentType=json`,{mode:"cors"}),d=await i.json();let s=await n(d);return t.address=d.resolvedAddress,document.getElementById("locationInput").value="",s}catch{alert("No Location Found, Try Again"),document.getElementById("locationInput").value=""}}(r,i);o.firstChild;)o.removeChild(o.firstChild);let d=document.getElementById("location");d.textContent="Showing Weather for: "+t.address;let s=document.getElementById("switch-units");"us"==t.units?(d.innerText+="(°F)",s.innerText="Switch to °C"):(d.innerText+="(°C)",s.innerText="Switch to °F"),t.days.forEach((e=>{let t=document.createElement("div");t.className="card";let n=function(e){let t=e.split("-");return["January","February","March","April","May","June","July","August","September","October","November","December"][t[1]-1]+" "+parseInt(t[2],10)}(e.date),r=document.createElement("div");r.className="date",r.innerText=n,t.appendChild(r);let i=document.createElement("div");i.className="icon";let d=document.createElement("img");t.appendChild(i),i.appendChild(d),d.src="../icons/"+e.icon+".svg";let s=document.createElement("div");s.className="temp",s.textContent="High: "+Math.round(e.high)+"° Low: "+Math.round(e.low)+"°",t.appendChild(s);let c=document.createElement("div");c.innerText=e.condition,c.className="condition",t.appendChild(c);let a=document.createElement("div");a.innerText="Precipitation: "+Math.round(e.precip/10)+"%",a.className="precip",t.appendChild(a),o.appendChild(t)})),document.getElementById("container").classList.add(t.days[0].icon);let c=document.getElementsByClassName("card");console.log(c);let a=c[0].getElementsByClassName("temp");console.log(a[0].innerText),document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°",document.getElementById("current-humidity").innerText=t.currentHumidity+"%",document.getElementById("current-wind").innerText=t.currentWind+"mph"}async function r(){"us"==t.units?t.units="metric":t.units="us",console.log(document.getElementById("switch-units").innerText),t.days=await async function(){let o=t.address;console.log(o);let r=t.units;try{const t=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${o}/next7days?unitGroup=${r}&include=days,hours&key=${e}&contentType=json`,{mode:"cors"}),i=await t.json();let d=await n(i);return document.getElementById("locationInput").value="",d}catch{alert("No Location Found, Try Again"),console.log(o),document.getElementById("locationInput").value=""}}();let o=document.getElementById("location");o.textContent="Showing Weather for: "+t.address;let r=document.getElementById("switch-units"),i=document.getElementById("current-wind");"us"==t.units?(o.innerText+="(°F)",r.innerText="Switch to °C",i.innerText=t.currentWind+"mph"):(o.innerText+="(°C)",r.innerText="Switch to °F",i.innerText=t.currentWind+"km/h");let d=document.getElementsByClassName("card");for(let e=0;e<t.days.length;e++)d[e].getElementsByClassName("temp")[0].innerText="High: "+Math.round(t.days[e].high)+"° Low: "+Math.round(t.days[e].low)+"°";document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°"}window.onload=function(){document.getElementById("search-for-weather").addEventListener("click",o),document.getElementById("switch-units").addEventListener("click",r),o()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLElBQUl4RCxFQUFJLEVBQUdBLEVBQUlyQixFQUFjRyxLQUFLeUMsT0FBUXZCLElBQzlCNkQsRUFBTTdELEdBQUd3RCx1QkFBdUIsUUFDdEMsR0FBR3BCLFVBQ1YsU0FDQTNDLEtBQUtDLE1BQU1mLEVBQWNHLEtBQUtrQixHQUFHTyxNQURqQyxVQUlBZCxLQUFLQyxNQUFNZixFQUFjRyxLQUFLa0IsR0FBR0ssS0FDakMsSUFHZWEsU0FBU0MsZUFBZSxnQkFDOUJpQixVQUFZekQsRUFBY00sWUFBYyxJQUVsQ2lDLFNBQVNDLGVBQWUsaUJBQzlCaUIsVUFBWXpELEVBQWNJLFlBQWMsSUErQnZEK0UsT0FBT0MsT0FBUyxXQTNCZDdDLFNBQ0dDLGVBQWUsc0JBQ2Y2QyxpQkFBaUIsUUFBU2hELEdBRTdCRSxTQUFTQyxlQUFlLGdCQUFnQjZDLGlCQUFpQixRQUFTTixHQXlCbEUxQyxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi13ZWF0aGVyLy4vc3JjL21vZHVsZXMvd2VhdGhlci5qcyIsIndlYnBhY2s6Ly9vZGluLXdlYXRoZXIvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJS2V5ID0gY29uZmlnLkFQSV9LRVk7XHJcblxyXG5jb25zdCB3ZWF0aGVyT2JqZWN0ID0gKCgpID0+IHtcclxuICBsZXQgdW5pdHMgPSBcInVzXCI7XHJcbiAgbGV0IGFkZHJlc3MgPSBcIlwiO1xyXG4gIGxldCBjdXJyZW50VGVtcCA9IDA7XHJcbiAgbGV0IGN1cnJlbnRGZWVsID0gMDtcclxuICBsZXQgY3VycmVudEh1bWlkaXR5ID0gMDtcclxuICBsZXQgY3VycmVudFdpbmQgPSAwO1xyXG4gIGxldCBkYXlzID0gW107XHJcbiAgcmV0dXJuIHtcclxuICAgIHVuaXRzLFxyXG4gICAgYWRkcmVzcyxcclxuICAgIGRheXMsXHJcbiAgICBjdXJyZW50RmVlbCxcclxuICAgIGN1cnJlbnRIdW1pZGl0eSxcclxuICAgIGN1cnJlbnRUZW1wLFxyXG4gICAgY3VycmVudFdpbmQsXHJcbiAgfTtcclxufSkoKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFdlYXRoZXIoc2VhcmNoLCB1bml0cykge1xyXG4gIGNvbnNvbGUubG9nKHNlYXJjaCk7XHJcbiAgY29uc29sZS5sb2codW5pdHMpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly93ZWF0aGVyLnZpc3VhbGNyb3NzaW5nLmNvbS9WaXN1YWxDcm9zc2luZ1dlYlNlcnZpY2VzL3Jlc3Qvc2VydmljZXMvdGltZWxpbmUvJHtzZWFyY2h9L25leHQ3ZGF5cz91bml0R3JvdXA9JHt1bml0c30maW5jbHVkZT1kYXlzLGhvdXJzJmtleT0ke0FQSUtleX0mY29udGVudFR5cGU9anNvbmAsXHJcbiAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHdlYXRoZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBsZXQgZGF5cyA9IGF3YWl0IHF1ZXJ5SlNPTih3ZWF0aGVyKTtcclxuICAgIHdlYXRoZXJPYmplY3QuYWRkcmVzcyA9IHdlYXRoZXIucmVzb2x2ZWRBZGRyZXNzO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIHJldHVybiBkYXlzO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgYWxlcnQoXCJObyBMb2NhdGlvbiBGb3VuZCwgVHJ5IEFnYWluXCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFVuaXRTd2l0Y2hXZWF0aGVyKCkge1xyXG4gIGxldCBsb2NhdGlvbiA9IHdlYXRoZXJPYmplY3QuYWRkcmVzcztcclxuICBjb25zb2xlLmxvZyhsb2NhdGlvbik7XHJcbiAgbGV0IHVuaXRzID0gd2VhdGhlck9iamVjdC51bml0cztcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vd2VhdGhlci52aXN1YWxjcm9zc2luZy5jb20vVmlzdWFsQ3Jvc3NpbmdXZWJTZXJ2aWNlcy9yZXN0L3NlcnZpY2VzL3RpbWVsaW5lLyR7bG9jYXRpb259L25leHQ3ZGF5cz91bml0R3JvdXA9JHt1bml0c30maW5jbHVkZT1kYXlzLGhvdXJzJmtleT0ke0FQSUtleX0mY29udGVudFR5cGU9anNvbmAsXHJcbiAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHdlYXRoZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBsZXQgZGF5cyA9IGF3YWl0IHF1ZXJ5SlNPTih3ZWF0aGVyKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICByZXR1cm4gZGF5cztcclxuICB9IGNhdGNoIHtcclxuICAgIGFsZXJ0KFwiTm8gTG9jYXRpb24gRm91bmQsIFRyeSBBZ2FpblwiKTtcclxuICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBxdWVyeUpTT04od2VhdGhlcikge1xyXG4gIGNvbnNvbGUubG9nKHdlYXRoZXIpO1xyXG4gIGxldCBkYXlzT2ZJbnRlcmVzdCA9IFtdO1xyXG4gIHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgPSBNYXRoLnJvdW5kKHdlYXRoZXIuZGF5c1swXS5ob3Vyc1swXS50ZW1wKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRGZWVsID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0uZmVlbHNsaWtlKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRIdW1pZGl0eSA9IE1hdGgucm91bmQod2VhdGhlci5kYXlzWzBdLmhvdXJzWzBdLmh1bWlkaXR5KTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0ud2luZHNwZWVkKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgbGV0IGRheSA9IHtcclxuICAgICAgbG9jYXRpb246IHdlYXRoZXIuYWRkcmVzcyxcclxuICAgICAgZGF0ZTogd2VhdGhlci5kYXlzW2ldLmRhdGV0aW1lLFxyXG4gICAgICBsb3c6IHdlYXRoZXIuZGF5c1tpXS50ZW1wbWluLFxyXG4gICAgICBoaWdoOiB3ZWF0aGVyLmRheXNbaV0udGVtcG1heCxcclxuICAgICAgaG91cmx5OiB3ZWF0aGVyLmRheXNbaV0uaG91cnMsXHJcbiAgICAgIGNvbmRpdGlvbjogd2VhdGhlci5kYXlzW2ldLmNvbmRpdGlvbnMsXHJcbiAgICAgIHByZWNpcDogd2VhdGhlci5kYXlzW2ldLnByZWNpcHByb2IsXHJcbiAgICAgIGljb246IHdlYXRoZXIuZGF5c1tpXS5pY29uLFxyXG4gICAgfTtcclxuICAgIGRheXNPZkludGVyZXN0LnB1c2goZGF5KTtcclxuICB9XHJcbiAgcmV0dXJuIGRheXNPZkludGVyZXN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTZWFyY2goKSB7XHJcbiAgbGV0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25JbnB1dFwiKS52YWx1ZTtcclxuICByZXR1cm4gc2VhcmNoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzd2l0Y2hVbml0cygpIHtcclxuICBpZiAod2VhdGhlck9iamVjdC51bml0cyA9PSBcInVzXCIpIHtcclxuICAgIHdlYXRoZXJPYmplY3QudW5pdHMgPSBcIm1ldHJpY1wiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3ZWF0aGVyT2JqZWN0LnVuaXRzID0gXCJ1c1wiO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICB3ZWF0aGVyT2JqZWN0LFxyXG4gIGdldFdlYXRoZXIsXHJcbiAgZ2V0VW5pdFN3aXRjaFdlYXRoZXIsXHJcbiAgc3dpdGNoVW5pdHMsXHJcbiAgZ2V0U2VhcmNoLFxyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIHdlYXRoZXJPYmplY3QsXHJcbiAgZ2V0V2VhdGhlcixcclxuICBnZXRVbml0U3dpdGNoV2VhdGhlcixcclxuICBzd2l0Y2hVbml0cyxcclxuICBnZXRTZWFyY2gsXHJcbn0gZnJvbSBcIi4vbW9kdWxlcy93ZWF0aGVyLmpzXCI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZW5kZXJEYXlzKCkge1xyXG4gIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcmQtaG9sZGVyXCIpO1xyXG4gIGxldCBzZWFyY2ggPSBcIlwiO1xyXG4gIGxldCB1bml0cyA9IFwiXCI7XHJcbiAgaWYgKGRpdi5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgIHNlYXJjaCA9IGdldFNlYXJjaCgpO1xyXG4gICAgdW5pdHMgPSB3ZWF0aGVyT2JqZWN0LnVuaXRzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzZWFyY2ggPSBcImRhbGxhc1wiO1xyXG4gICAgdW5pdHMgPSBcInVzXCI7XHJcbiAgfVxyXG4gIGlmICh3ZWF0aGVyT2JqZWN0LmRheXMubGVuZ3RoID4gMCkge1xyXG4gICAgd2VhdGhlck9iamVjdC5kYXlzID0gW107XHJcbiAgfVxyXG5cclxuICB3ZWF0aGVyT2JqZWN0LmRheXMgPSBhd2FpdCBnZXRXZWF0aGVyKHNlYXJjaCwgdW5pdHMpO1xyXG5cclxuICB3aGlsZSAoZGl2LmZpcnN0Q2hpbGQpIHtcclxuICAgIGRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG4gIGxldCBsb2NhdGlvbkRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25cIik7XHJcbiAgbG9jYXRpb25EaXYudGV4dENvbnRlbnQgPSBcIlNob3dpbmcgV2VhdGhlciBmb3I6IFwiICsgd2VhdGhlck9iamVjdC5hZGRyZXNzO1xyXG4gIGxldCB1bml0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzd2l0Y2gtdW5pdHNcIik7XHJcbiAgaWYgKHdlYXRoZXJPYmplY3QudW5pdHMgPT0gXCJ1c1wiKSB7XHJcbiAgICBsb2NhdGlvbkRpdi5pbm5lclRleHQgKz0gXCIoXFx1MDBCMEYpXCI7XHJcbiAgICB1bml0QnRuLmlubmVyVGV4dCA9IGBTd2l0Y2ggdG8gXFx1MDBCMENgO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsb2NhdGlvbkRpdi5pbm5lclRleHQgKz0gXCIoXFx1MDBCMEMpXCI7XHJcbiAgICB1bml0QnRuLmlubmVyVGV4dCA9IGBTd2l0Y2ggdG8gXFx1MDBCMEZgO1xyXG4gIH1cclxuICB3ZWF0aGVyT2JqZWN0LmRheXMuZm9yRWFjaCgoZGF5KSA9PiB7XHJcbiAgICBsZXQgaW5uZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaW5uZXJEaXYuY2xhc3NOYW1lID0gXCJjYXJkXCI7XHJcblxyXG4gICAgbGV0IGRhdGUgPSBwYXJzZURhdGUoZGF5LmRhdGUpO1xyXG4gICAgbGV0IGRhdGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZGF0ZURpdi5jbGFzc05hbWUgPSBcImRhdGVcIjtcclxuICAgIGRhdGVEaXYuaW5uZXJUZXh0ID0gZGF0ZTtcclxuICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKGRhdGVEaXYpO1xyXG5cclxuICAgIGxldCBpY29uSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGljb25Ib2xkZXIuY2xhc3NOYW1lID0gXCJpY29uXCI7XHJcbiAgICBsZXQgaWNvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBpbm5lckRpdi5hcHBlbmRDaGlsZChpY29uSG9sZGVyKTtcclxuICAgIGljb25Ib2xkZXIuYXBwZW5kQ2hpbGQoaWNvbkRpdik7XHJcbiAgICBpY29uRGl2LnNyYyA9IFwiLi4vaWNvbnMvXCIgKyBkYXkuaWNvbiArIFwiLnN2Z1wiO1xyXG5cclxuICAgIGxldCB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHRlbXBEaXYuY2xhc3NOYW1lID0gXCJ0ZW1wXCI7XHJcbiAgICB0ZW1wRGl2LnRleHRDb250ZW50ID1cclxuICAgICAgXCJIaWdoOiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQoZGF5LmhpZ2gpICtcclxuICAgICAgYFxcdTAwQjBgICtcclxuICAgICAgXCIgTG93OiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQoZGF5LmxvdykgK1xyXG4gICAgICBgXFx1MDBCMGA7XHJcbiAgICBpbm5lckRpdi5hcHBlbmRDaGlsZCh0ZW1wRGl2KTtcclxuXHJcbiAgICBsZXQgY29uZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBjb25kRGl2LmlubmVyVGV4dCA9IGRheS5jb25kaXRpb247XHJcbiAgICBjb25kRGl2LmNsYXNzTmFtZSA9IFwiY29uZGl0aW9uXCI7XHJcbiAgICBpbm5lckRpdi5hcHBlbmRDaGlsZChjb25kRGl2KTtcclxuXHJcbiAgICBsZXQgcHJlY2lwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHByZWNpcERpdi5pbm5lclRleHQgPSBcIlByZWNpcGl0YXRpb246IFwiICsgTWF0aC5yb3VuZChkYXkucHJlY2lwIC8gMTApICsgXCIlXCI7XHJcbiAgICBwcmVjaXBEaXYuY2xhc3NOYW1lID0gXCJwcmVjaXBcIjtcclxuICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKHByZWNpcERpdik7XHJcbiAgICBkaXYuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpXHJcbiAgICAuY2xhc3NMaXN0LmFkZCh3ZWF0aGVyT2JqZWN0LmRheXNbMF0uaWNvbik7XHJcbiAgbGV0IG5vZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhcmRcIik7XHJcbiAgY29uc29sZS5sb2cobm9kZXMpO1xyXG4gIGxldCB0ZCA9IG5vZGVzWzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZW1wXCIpO1xyXG4gIGNvbnNvbGUubG9nKHRkWzBdLmlubmVyVGV4dCk7XHJcblxyXG4gIGxldCBjdXJyVGVtcENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtdGVtcFwiKTtcclxuICBjdXJyVGVtcENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50VGVtcCArIFwiXFx1MDBCMFwiO1xyXG5cclxuICBsZXQgY3VyckZlZWxDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LWZlZWxzXCIpO1xyXG4gIGN1cnJGZWVsQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRGZWVsICsgXCJcXHUwMEIwXCI7XHJcblxyXG4gIGxldCBjdXJySHVtaWRDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LWh1bWlkaXR5XCIpO1xyXG4gIGN1cnJIdW1pZENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50SHVtaWRpdHkgKyBcIiVcIjtcclxuXHJcbiAgbGV0IGN1cnJXaW5kQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC13aW5kXCIpO1xyXG4gIGN1cnJXaW5kQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kICsgXCJtcGhcIjtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlRGF5cygpIHtcclxuICBzd2l0Y2hVbml0cygpO1xyXG4gIGNvbnNvbGUubG9nKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpdGNoLXVuaXRzXCIpLmlubmVyVGV4dCk7XHJcbiAgd2VhdGhlck9iamVjdC5kYXlzID0gYXdhaXQgZ2V0VW5pdFN3aXRjaFdlYXRoZXIoKTtcclxuXHJcbiAgbGV0IGxvY2F0aW9uRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvblwiKTtcclxuICBsb2NhdGlvbkRpdi50ZXh0Q29udGVudCA9IFwiU2hvd2luZyBXZWF0aGVyIGZvcjogXCIgKyB3ZWF0aGVyT2JqZWN0LmFkZHJlc3M7XHJcblxyXG4gIGxldCB1bml0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzd2l0Y2gtdW5pdHNcIik7XHJcbiAgbGV0IGN1cnJXaW5kQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC13aW5kXCIpO1xyXG5cclxuICBpZiAod2VhdGhlck9iamVjdC51bml0cyA9PSBcInVzXCIpIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwRilcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwQ2A7XHJcbiAgICBjdXJyV2luZENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50V2luZCArIFwibXBoXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwQylcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwRmA7XHJcbiAgICBjdXJyV2luZENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50V2luZCArIFwia20vaFwiO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNhcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhcmRcIik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWF0aGVyT2JqZWN0LmRheXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB0ZW1wRGl2cyA9IGNhcmRzW2ldLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZW1wXCIpO1xyXG4gICAgdGVtcERpdnNbMF0uaW5uZXJUZXh0ID1cclxuICAgICAgXCJIaWdoOiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQod2VhdGhlck9iamVjdC5kYXlzW2ldLmhpZ2gpICtcclxuICAgICAgYFxcdTAwQjBgICtcclxuICAgICAgXCIgTG93OiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQod2VhdGhlck9iamVjdC5kYXlzW2ldLmxvdykgK1xyXG4gICAgICBgXFx1MDBCMGA7XHJcbiAgfVxyXG5cclxuICBsZXQgY3VyclRlbXBDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LXRlbXBcIik7XHJcbiAgY3VyclRlbXBDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgKyBcIlxcdTAwQjBcIjtcclxuXHJcbiAgbGV0IGN1cnJGZWVsQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1mZWVsc1wiKTtcclxuICBjdXJyRmVlbENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50RmVlbCArIFwiXFx1MDBCMFwiO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKCkge1xyXG4gIGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtZm9yLXdlYXRoZXJcIilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVuZGVyRGF5cyk7XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpdGNoLXVuaXRzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB1cGRhdGVEYXlzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VEYXRlKGRhdGUpIHtcclxuICBsZXQgbW9udGhzID0gW1xyXG4gICAgXCJKYW51YXJ5XCIsXHJcbiAgICBcIkZlYnJ1YXJ5XCIsXHJcbiAgICBcIk1hcmNoXCIsXHJcbiAgICBcIkFwcmlsXCIsXHJcbiAgICBcIk1heVwiLFxyXG4gICAgXCJKdW5lXCIsXHJcbiAgICBcIkp1bHlcIixcclxuICAgIFwiQXVndXN0XCIsXHJcbiAgICBcIlNlcHRlbWJlclwiLFxyXG4gICAgXCJPY3RvYmVyXCIsXHJcbiAgICBcIk5vdmVtYmVyXCIsXHJcbiAgICBcIkRlY2VtYmVyXCIsXHJcbiAgXTtcclxuICBsZXQgc3BsaXREYXRlID0gZGF0ZS5zcGxpdChcIi1cIik7XHJcbiAgbGV0IG1vbnRoID0gbW9udGhzW3NwbGl0RGF0ZVsxXSAtIDFdO1xyXG5cclxuICByZXR1cm4gbW9udGggKyBcIiBcIiArIHBhcnNlSW50KHNwbGl0RGF0ZVsyXSwgMTApO1xyXG59XHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgYWRkRXZlbnRMaXN0ZW5lcigpO1xyXG4gIHJlbmRlckRheXMoKTtcclxufTtcclxuIl0sIm5hbWVzIjpbIkFQSUtleSIsImNvbmZpZyIsIkFQSV9LRVkiLCJ3ZWF0aGVyT2JqZWN0IiwidW5pdHMiLCJhZGRyZXNzIiwiZGF5cyIsImN1cnJlbnRGZWVsIiwiY3VycmVudEh1bWlkaXR5IiwiY3VycmVudFRlbXAiLCJjdXJyZW50V2luZCIsImFzeW5jIiwicXVlcnlKU09OIiwid2VhdGhlciIsImNvbnNvbGUiLCJsb2ciLCJkYXlzT2ZJbnRlcmVzdCIsIk1hdGgiLCJyb3VuZCIsImhvdXJzIiwidGVtcCIsImZlZWxzbGlrZSIsImh1bWlkaXR5Iiwid2luZHNwZWVkIiwiaSIsImRheSIsImxvY2F0aW9uIiwiZGF0ZSIsImRhdGV0aW1lIiwibG93IiwidGVtcG1pbiIsImhpZ2giLCJ0ZW1wbWF4IiwiaG91cmx5IiwiY29uZGl0aW9uIiwiY29uZGl0aW9ucyIsInByZWNpcCIsInByZWNpcHByb2IiLCJpY29uIiwicHVzaCIsInJlbmRlckRheXMiLCJkaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2VhcmNoIiwiaGFzQ2hpbGROb2RlcyIsInZhbHVlIiwibGVuZ3RoIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJqc29uIiwicmVzb2x2ZWRBZGRyZXNzIiwiYWxlcnQiLCJnZXRXZWF0aGVyIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibG9jYXRpb25EaXYiLCJ0ZXh0Q29udGVudCIsInVuaXRCdG4iLCJpbm5lclRleHQiLCJmb3JFYWNoIiwiaW5uZXJEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3BsaXREYXRlIiwic3BsaXQiLCJwYXJzZUludCIsInBhcnNlRGF0ZSIsImRhdGVEaXYiLCJhcHBlbmRDaGlsZCIsImljb25Ib2xkZXIiLCJpY29uRGl2Iiwic3JjIiwidGVtcERpdiIsImNvbmREaXYiLCJwcmVjaXBEaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJub2RlcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ0ZCIsInVwZGF0ZURheXMiLCJnZXRVbml0U3dpdGNoV2VhdGhlciIsImN1cnJXaW5kQ2VsbCIsImNhcmRzIiwid2luZG93Iiwib25sb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=