(()=>{"use strict";const e=config.API_KEY,t={units:"us",address:"",days:[],currentFeel:0,currentHumidity:0,currentTemp:0,currentWind:0};async function n(n,d){console.log(n),console.log(d);try{const r=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${n}/next7days?unitGroup=${d}&include=days,hours&key=${e}&contentType=json`,{mode:"cors"}),i=await r.json();let o=await async function(e){console.log(e);let n=[];t.currentTemp=Math.round(e.days[0].hours[0].temp),t.currentFeel=Math.round(e.days[0].hours[0].feelslike),t.currentHumidity=Math.round(e.days[0].hours[0].humidity),t.currentWind=Math.round(e.days[0].hours[0].windspeed);for(let t=0;t<5;t++){let d={location:e.address,date:e.days[t].datetime,low:e.days[t].tempmin,high:e.days[t].tempmax,hourly:e.days[t].hours,condition:e.days[t].conditions,precip:e.days[t].precipprob,icon:e.days[t].icon};n.push(d)}return n}(i);return t.address=i.resolvedAddress,document.getElementById("locationInput").value="",o}catch{alert("No Location Found, Try Again"),document.getElementById("locationInput").value=""}}async function d(){let e=document.getElementById("card-holder"),d="",r="";for(e.hasChildNodes()?(d=document.getElementById("locationInput").value,r=t.units):(d="dallas",r="us"),t.days.length>0&&(t.days=[]),t.days=await n(d,r);e.firstChild;)e.removeChild(e.firstChild);let i=document.getElementById("location");i.textContent="Showing Weather for: "+t.address;let o=document.getElementById("switch-units");"us"==t.units?(i.innerText+="(°F)",o.innerText="Switch to °C"):(i.innerText+="(°C)",o.innerText="Switch to °F"),t.days.forEach((t=>{let n=document.createElement("div");n.className="card";let d=function(e){let t=e.split("-");return["January","February","March","April","May","June","July","August","September","October","November","December"][t[1]-1]+" "+parseInt(t[2],10)}(t.date),r=document.createElement("div");r.className="date",r.innerText=d,n.appendChild(r);let i=document.createElement("div");i.className="icon";let o=document.createElement("img");n.appendChild(i),i.appendChild(o),o.src="../icons/"+t.icon+".svg";let c=document.createElement("div");c.className="temp",c.textContent="High: "+Math.round(t.high)+"° Low: "+Math.round(t.low)+"°",n.appendChild(c);let s=document.createElement("div");s.innerText=t.condition,s.className="condition",n.appendChild(s);let a=document.createElement("div");a.innerText="Precipitation: "+Math.round(t.precip/10)+"%",a.className="precip",n.appendChild(a),e.appendChild(n)})),document.getElementById("container").classList.add(t.days[0].icon);let c=document.getElementsByClassName("card");console.log(c);let s=c[0].getElementsByClassName("temp");console.log(s[0].innerText),document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°",document.getElementById("current-humidity").innerText=t.currentHumidity+"%",document.getElementById("current-wind").innerText=t.currentWind+" mph"}async function r(){"us"==t.units?t.units="metric":t.units="us",console.log(document.getElementById("switch-units").innerText),t.days=await n(t.address,t.units);let e=document.getElementById("location");e.textContent="Showing Weather for: "+t.address;let d=document.getElementById("switch-units"),r=document.getElementById("current-wind");"us"==t.units?(e.innerText+="(°F)",d.innerText="Switch to °C",r.innerText=t.currentWind+" mph"):(e.innerText+="(°C)",d.innerText="Switch to °F",r.innerText=t.currentWind+" km/h");let i=document.getElementsByClassName("card");for(let e=0;e<t.days.length;e++)i[e].getElementsByClassName("temp")[0].innerText="High: "+Math.round(t.days[e].high)+"° Low: "+Math.round(t.days[e].low)+"°";document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°"}window.onload=function(){document.getElementById("search-for-weather").addEventListener("click",d),document.getElementById("switch-units").addEventListener("click",r),d()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FDR0MsZUFBZSxzQkFDZnVDLGlCQUFpQixRQUFTcEMsR0FFN0JKLFNBQVNDLGVBQWUsZ0JBQWdCdUMsaUJBQWlCLFFBQVNMLEdBNEJsRS9CLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXdlYXRoZXIvLi9zcmMvbW9kdWxlcy93ZWF0aGVyLmpzIiwid2VicGFjazovL29kaW4td2VhdGhlci8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBUElLZXkgPSBjb25maWcuQVBJX0tFWTtcclxuXHJcbi8vQW4gb2JqZWN0IHRoYXQgaG9sZHMgYWxsIGluZm8gbmVlZGVkIGZvciByZW5kZXJpbmcuXHJcbmNvbnN0IHdlYXRoZXJPYmplY3QgPSAoKCkgPT4ge1xyXG4gIGxldCB1bml0cyA9IFwidXNcIjtcclxuICBsZXQgYWRkcmVzcyA9IFwiXCI7XHJcbiAgbGV0IGN1cnJlbnRUZW1wID0gMDtcclxuICBsZXQgY3VycmVudEZlZWwgPSAwO1xyXG4gIGxldCBjdXJyZW50SHVtaWRpdHkgPSAwO1xyXG4gIGxldCBjdXJyZW50V2luZCA9IDA7XHJcbiAgbGV0IGRheXMgPSBbXTtcclxuICByZXR1cm4ge1xyXG4gICAgdW5pdHMsXHJcbiAgICBhZGRyZXNzLFxyXG4gICAgZGF5cyxcclxuICAgIGN1cnJlbnRGZWVsLFxyXG4gICAgY3VycmVudEh1bWlkaXR5LFxyXG4gICAgY3VycmVudFRlbXAsXHJcbiAgICBjdXJyZW50V2luZCxcclxuICB9O1xyXG59KSgpO1xyXG5cclxuLy9GdW5jdGlvbiB1c2VkIHRvIGdldCB3ZWF0aGVyIHdoZW4gYSBuZXcgc2VhcmNoIGlzIG1hZGUuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFdlYXRoZXIoc2VhcmNoLCB1bml0cykge1xyXG4gIGNvbnNvbGUubG9nKHNlYXJjaCk7XHJcbiAgY29uc29sZS5sb2codW5pdHMpO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly93ZWF0aGVyLnZpc3VhbGNyb3NzaW5nLmNvbS9WaXN1YWxDcm9zc2luZ1dlYlNlcnZpY2VzL3Jlc3Qvc2VydmljZXMvdGltZWxpbmUvJHtzZWFyY2h9L25leHQ3ZGF5cz91bml0R3JvdXA9JHt1bml0c30maW5jbHVkZT1kYXlzLGhvdXJzJmtleT0ke0FQSUtleX0mY29udGVudFR5cGU9anNvbmAsXHJcbiAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHdlYXRoZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBsZXQgZGF5cyA9IGF3YWl0IHF1ZXJ5SlNPTih3ZWF0aGVyKTtcclxuICAgIHdlYXRoZXJPYmplY3QuYWRkcmVzcyA9IHdlYXRoZXIucmVzb2x2ZWRBZGRyZXNzO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICAgIHJldHVybiBkYXlzO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgYWxlcnQoXCJObyBMb2NhdGlvbiBGb3VuZCwgVHJ5IEFnYWluXCIpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvbklucHV0XCIpLnZhbHVlID0gXCJcIjtcclxuICB9XHJcbn1cclxuXHJcbi8vRnVuY3Rpb24gdXNlZCB0byBnZXQgd2VhdGhlciB3aGVuIHRoZSBjaGFuZ2UgdW5pdHMgYnV0dG9uIGlzIGNsaWNrZWQuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFVuaXRTd2l0Y2hXZWF0aGVyKCkge1xyXG4gIGxldCBsb2NhdGlvbiA9IHdlYXRoZXJPYmplY3QuYWRkcmVzcztcclxuICBjb25zb2xlLmxvZyhsb2NhdGlvbik7XHJcbiAgbGV0IHVuaXRzID0gd2VhdGhlck9iamVjdC51bml0cztcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vd2VhdGhlci52aXN1YWxjcm9zc2luZy5jb20vVmlzdWFsQ3Jvc3NpbmdXZWJTZXJ2aWNlcy9yZXN0L3NlcnZpY2VzL3RpbWVsaW5lLyR7bG9jYXRpb259L25leHQ3ZGF5cz91bml0R3JvdXA9JHt1bml0c30maW5jbHVkZT1kYXlzLGhvdXJzJmtleT0ke0FQSUtleX0mY29udGVudFR5cGU9anNvbmAsXHJcbiAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IHdlYXRoZXIgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBsZXQgZGF5cyA9IGF3YWl0IHF1ZXJ5SlNPTih3ZWF0aGVyKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICByZXR1cm4gZGF5cztcclxuICB9IGNhdGNoIHtcclxuICAgIGFsZXJ0KFwiTm8gTG9jYXRpb24gRm91bmQsIFRyeSBBZ2FpblwiKTtcclxuICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25JbnB1dFwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBxdWVyeUpTT04od2VhdGhlcikge1xyXG4gIGNvbnNvbGUubG9nKHdlYXRoZXIpO1xyXG4gIGxldCBkYXlzT2ZJbnRlcmVzdCA9IFtdO1xyXG4gIHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgPSBNYXRoLnJvdW5kKHdlYXRoZXIuZGF5c1swXS5ob3Vyc1swXS50ZW1wKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRGZWVsID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0uZmVlbHNsaWtlKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRIdW1pZGl0eSA9IE1hdGgucm91bmQod2VhdGhlci5kYXlzWzBdLmhvdXJzWzBdLmh1bWlkaXR5KTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0ud2luZHNwZWVkKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgbGV0IGRheSA9IHtcclxuICAgICAgbG9jYXRpb246IHdlYXRoZXIuYWRkcmVzcyxcclxuICAgICAgZGF0ZTogd2VhdGhlci5kYXlzW2ldLmRhdGV0aW1lLFxyXG4gICAgICBsb3c6IHdlYXRoZXIuZGF5c1tpXS50ZW1wbWluLFxyXG4gICAgICBoaWdoOiB3ZWF0aGVyLmRheXNbaV0udGVtcG1heCxcclxuICAgICAgaG91cmx5OiB3ZWF0aGVyLmRheXNbaV0uaG91cnMsXHJcbiAgICAgIGNvbmRpdGlvbjogd2VhdGhlci5kYXlzW2ldLmNvbmRpdGlvbnMsXHJcbiAgICAgIHByZWNpcDogd2VhdGhlci5kYXlzW2ldLnByZWNpcHByb2IsXHJcbiAgICAgIGljb246IHdlYXRoZXIuZGF5c1tpXS5pY29uLFxyXG4gICAgfTtcclxuICAgIGRheXNPZkludGVyZXN0LnB1c2goZGF5KTtcclxuICB9XHJcbiAgcmV0dXJuIGRheXNPZkludGVyZXN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTZWFyY2goKSB7XHJcbiAgbGV0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25JbnB1dFwiKS52YWx1ZTtcclxuICByZXR1cm4gc2VhcmNoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzd2l0Y2hVbml0cygpIHtcclxuICBpZiAod2VhdGhlck9iamVjdC51bml0cyA9PSBcInVzXCIpIHtcclxuICAgIHdlYXRoZXJPYmplY3QudW5pdHMgPSBcIm1ldHJpY1wiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3ZWF0aGVyT2JqZWN0LnVuaXRzID0gXCJ1c1wiO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICB3ZWF0aGVyT2JqZWN0LFxyXG4gIGdldFdlYXRoZXIsXHJcbiAgZ2V0VW5pdFN3aXRjaFdlYXRoZXIsXHJcbiAgc3dpdGNoVW5pdHMsXHJcbiAgZ2V0U2VhcmNoLFxyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIHdlYXRoZXJPYmplY3QsXHJcbiAgZ2V0V2VhdGhlcixcclxuICBnZXRVbml0U3dpdGNoV2VhdGhlcixcclxuICBzd2l0Y2hVbml0cyxcclxuICBnZXRTZWFyY2gsXHJcbn0gZnJvbSBcIi4vbW9kdWxlcy93ZWF0aGVyLmpzXCI7XHJcblxyXG4vL0Z1bmN0aW9uIGZvciByZW5kZXJpbmcgdGhlIGRhdGEgdGhhdCBpcyBzdG9yZWQgaW4gdGhlIHdlYXRoZXIgb2JqZWN0LiBDYWxsZWRcclxuLy8gd2hlbiBhIG5ldyBsb2NhdGlvbiBpcyBzZWFyY2hlZCBhbHNvIG9uIHBhZ2UgbG9hZC5cclxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyRGF5cygpIHtcclxuICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJkLWhvbGRlclwiKTtcclxuICBsZXQgc2VhcmNoID0gXCJcIjtcclxuICBsZXQgdW5pdHMgPSBcIlwiO1xyXG4gIGlmIChkaXYuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICBzZWFyY2ggPSBnZXRTZWFyY2goKTtcclxuICAgIHVuaXRzID0gd2VhdGhlck9iamVjdC51bml0cztcclxuICB9IGVsc2Uge1xyXG4gICAgc2VhcmNoID0gXCJkYWxsYXNcIjtcclxuICAgIHVuaXRzID0gXCJ1c1wiO1xyXG4gIH1cclxuICBpZiAod2VhdGhlck9iamVjdC5kYXlzLmxlbmd0aCA+IDApIHtcclxuICAgIHdlYXRoZXJPYmplY3QuZGF5cyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgd2VhdGhlck9iamVjdC5kYXlzID0gYXdhaXQgZ2V0V2VhdGhlcihzZWFyY2gsIHVuaXRzKTtcclxuXHJcbiAgd2hpbGUgKGRpdi5maXJzdENoaWxkKSB7XHJcbiAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxuICBsZXQgbG9jYXRpb25EaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvY2F0aW9uXCIpO1xyXG4gIGxvY2F0aW9uRGl2LnRleHRDb250ZW50ID0gXCJTaG93aW5nIFdlYXRoZXIgZm9yOiBcIiArIHdlYXRoZXJPYmplY3QuYWRkcmVzcztcclxuICBsZXQgdW5pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpdGNoLXVuaXRzXCIpO1xyXG4gIGlmICh3ZWF0aGVyT2JqZWN0LnVuaXRzID09IFwidXNcIikge1xyXG4gICAgbG9jYXRpb25EaXYuaW5uZXJUZXh0ICs9IFwiKFxcdTAwQjBGKVwiO1xyXG4gICAgdW5pdEJ0bi5pbm5lclRleHQgPSBgU3dpdGNoIHRvIFxcdTAwQjBDYDtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9jYXRpb25EaXYuaW5uZXJUZXh0ICs9IFwiKFxcdTAwQjBDKVwiO1xyXG4gICAgdW5pdEJ0bi5pbm5lclRleHQgPSBgU3dpdGNoIHRvIFxcdTAwQjBGYDtcclxuICB9XHJcbiAgd2VhdGhlck9iamVjdC5kYXlzLmZvckVhY2goKGRheSkgPT4ge1xyXG4gICAgbGV0IGlubmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlubmVyRGl2LmNsYXNzTmFtZSA9IFwiY2FyZFwiO1xyXG5cclxuICAgIGxldCBkYXRlID0gcGFyc2VEYXRlKGRheS5kYXRlKTtcclxuICAgIGxldCBkYXRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRhdGVEaXYuY2xhc3NOYW1lID0gXCJkYXRlXCI7XHJcbiAgICBkYXRlRGl2LmlubmVyVGV4dCA9IGRhdGU7XHJcbiAgICBpbm5lckRpdi5hcHBlbmRDaGlsZChkYXRlRGl2KTtcclxuXHJcbiAgICBsZXQgaWNvbkhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpY29uSG9sZGVyLmNsYXNzTmFtZSA9IFwiaWNvblwiO1xyXG4gICAgbGV0IGljb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQoaWNvbkhvbGRlcik7XHJcbiAgICBpY29uSG9sZGVyLmFwcGVuZENoaWxkKGljb25EaXYpO1xyXG4gICAgaWNvbkRpdi5zcmMgPSBcIi4uL2ljb25zL1wiICsgZGF5Lmljb24gKyBcIi5zdmdcIjtcclxuXHJcbiAgICBsZXQgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0ZW1wRGl2LmNsYXNzTmFtZSA9IFwidGVtcFwiO1xyXG4gICAgdGVtcERpdi50ZXh0Q29udGVudCA9XHJcbiAgICAgIFwiSGlnaDogXCIgK1xyXG4gICAgICBNYXRoLnJvdW5kKGRheS5oaWdoKSArXHJcbiAgICAgIGBcXHUwMEIwYCArXHJcbiAgICAgIFwiIExvdzogXCIgK1xyXG4gICAgICBNYXRoLnJvdW5kKGRheS5sb3cpICtcclxuICAgICAgYFxcdTAwQjBgO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQodGVtcERpdik7XHJcblxyXG4gICAgbGV0IGNvbmREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29uZERpdi5pbm5lclRleHQgPSBkYXkuY29uZGl0aW9uO1xyXG4gICAgY29uZERpdi5jbGFzc05hbWUgPSBcImNvbmRpdGlvblwiO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQoY29uZERpdik7XHJcblxyXG4gICAgbGV0IHByZWNpcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBwcmVjaXBEaXYuaW5uZXJUZXh0ID0gXCJQcmVjaXBpdGF0aW9uOiBcIiArIE1hdGgucm91bmQoZGF5LnByZWNpcCAvIDEwKSArIFwiJVwiO1xyXG4gICAgcHJlY2lwRGl2LmNsYXNzTmFtZSA9IFwicHJlY2lwXCI7XHJcbiAgICBpbm5lckRpdi5hcHBlbmRDaGlsZChwcmVjaXBEaXYpO1xyXG4gICAgZGl2LmFwcGVuZENoaWxkKGlubmVyRGl2KTtcclxuICB9KTtcclxuXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQod2VhdGhlck9iamVjdC5kYXlzWzBdLmljb24pO1xyXG4gIGxldCBub2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjYXJkXCIpO1xyXG4gIGNvbnNvbGUubG9nKG5vZGVzKTtcclxuICBsZXQgdGQgPSBub2Rlc1swXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGVtcFwiKTtcclxuICBjb25zb2xlLmxvZyh0ZFswXS5pbm5lclRleHQpO1xyXG5cclxuICBsZXQgY3VyclRlbXBDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LXRlbXBcIik7XHJcbiAgY3VyclRlbXBDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgKyBcIlxcdTAwQjBcIjtcclxuXHJcbiAgbGV0IGN1cnJGZWVsQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1mZWVsc1wiKTtcclxuICBjdXJyRmVlbENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50RmVlbCArIFwiXFx1MDBCMFwiO1xyXG5cclxuICBsZXQgY3Vyckh1bWlkQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1odW1pZGl0eVwiKTtcclxuICBjdXJySHVtaWRDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudEh1bWlkaXR5ICsgXCIlXCI7XHJcblxyXG4gIGxldCBjdXJyV2luZENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtd2luZFwiKTtcclxuICBjdXJyV2luZENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50V2luZCArIFwiIG1waFwiO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiBmb3Igc3dpdGNoaW5nIHVuaXRzIGJldHdlZW4gdXMgYW5kIG1ldHJpYy4gQ2FsbGVkIHdoZW4gdGhlIHN3aXRjaCB1bml0cyBidXR0b24gaXMgY2xpY2tlZC5cclxuLy8gVXBkYXRlcyB0ZW1wZXJhdHVyZXMgb24gY2FyZHMgYW5kIGN1cnJlbnQgY29uZGl0aW9uIHRlbXBlcmF0dXJlcy4gQWxzbyB1cGRhdGVzIHdpbmQgc3BlZWQgaW4gY3VycmVudCBjb25kaXRpb25zLlxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVEYXlzKCkge1xyXG4gIHN3aXRjaFVuaXRzKCk7XHJcbiAgY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzd2l0Y2gtdW5pdHNcIikuaW5uZXJUZXh0KTtcclxuICB3ZWF0aGVyT2JqZWN0LmRheXMgPSBhd2FpdCBnZXRXZWF0aGVyKFxyXG4gICAgd2VhdGhlck9iamVjdC5hZGRyZXNzLFxyXG4gICAgd2VhdGhlck9iamVjdC51bml0c1xyXG4gICk7XHJcblxyXG4gIGxldCBsb2NhdGlvbkRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25cIik7XHJcbiAgbG9jYXRpb25EaXYudGV4dENvbnRlbnQgPSBcIlNob3dpbmcgV2VhdGhlciBmb3I6IFwiICsgd2VhdGhlck9iamVjdC5hZGRyZXNzO1xyXG5cclxuICBsZXQgdW5pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpdGNoLXVuaXRzXCIpO1xyXG4gIGxldCBjdXJyV2luZENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtd2luZFwiKTtcclxuXHJcbiAgaWYgKHdlYXRoZXJPYmplY3QudW5pdHMgPT0gXCJ1c1wiKSB7XHJcbiAgICBsb2NhdGlvbkRpdi5pbm5lclRleHQgKz0gXCIoXFx1MDBCMEYpXCI7XHJcbiAgICB1bml0QnRuLmlubmVyVGV4dCA9IGBTd2l0Y2ggdG8gXFx1MDBCMENgO1xyXG4gICAgY3VycldpbmRDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFdpbmQgKyBcIiBtcGhcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9jYXRpb25EaXYuaW5uZXJUZXh0ICs9IFwiKFxcdTAwQjBDKVwiO1xyXG4gICAgdW5pdEJ0bi5pbm5lclRleHQgPSBgU3dpdGNoIHRvIFxcdTAwQjBGYDtcclxuICAgIGN1cnJXaW5kQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kICsgXCIga20vaFwiO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNhcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhcmRcIik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWF0aGVyT2JqZWN0LmRheXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB0ZW1wRGl2cyA9IGNhcmRzW2ldLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZW1wXCIpO1xyXG4gICAgdGVtcERpdnNbMF0uaW5uZXJUZXh0ID1cclxuICAgICAgXCJIaWdoOiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQod2VhdGhlck9iamVjdC5kYXlzW2ldLmhpZ2gpICtcclxuICAgICAgYFxcdTAwQjBgICtcclxuICAgICAgXCIgTG93OiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQod2VhdGhlck9iamVjdC5kYXlzW2ldLmxvdykgK1xyXG4gICAgICBgXFx1MDBCMGA7XHJcbiAgfVxyXG5cclxuICBsZXQgY3VyclRlbXBDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LXRlbXBcIik7XHJcbiAgY3VyclRlbXBDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgKyBcIlxcdTAwQjBcIjtcclxuXHJcbiAgbGV0IGN1cnJGZWVsQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1mZWVsc1wiKTtcclxuICBjdXJyRmVlbENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50RmVlbCArIFwiXFx1MDBCMFwiO1xyXG59XHJcblxyXG4vL0FkZHMgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgc2VhcmNoIGJ1dHRvbiBhbmQgdGhlIHN3aXRjaCB1bml0cyBidXR0b24uXHJcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1mb3Itd2VhdGhlclwiKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW5kZXJEYXlzKTtcclxuXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzd2l0Y2gtdW5pdHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHVwZGF0ZURheXMpO1xyXG59XHJcblxyXG4vL0NhbGxlZCB3aGVuIGNhcmRzIGFyZSByZW5kZXJlZC4gVXNlZCB0byBwcm9wZXJseSBkaXNwbGF5IHRoZSBtb250aCBuYW1lIChyYXRoZXIgdGhhbiBtb250aCBudW1iZXIpIGFuZCBkYXkgaW4gY29ycmVjdCBvcmRlci5cclxuZnVuY3Rpb24gcGFyc2VEYXRlKGRhdGUpIHtcclxuICBsZXQgbW9udGhzID0gW1xyXG4gICAgXCJKYW51YXJ5XCIsXHJcbiAgICBcIkZlYnJ1YXJ5XCIsXHJcbiAgICBcIk1hcmNoXCIsXHJcbiAgICBcIkFwcmlsXCIsXHJcbiAgICBcIk1heVwiLFxyXG4gICAgXCJKdW5lXCIsXHJcbiAgICBcIkp1bHlcIixcclxuICAgIFwiQXVndXN0XCIsXHJcbiAgICBcIlNlcHRlbWJlclwiLFxyXG4gICAgXCJPY3RvYmVyXCIsXHJcbiAgICBcIk5vdmVtYmVyXCIsXHJcbiAgICBcIkRlY2VtYmVyXCIsXHJcbiAgXTtcclxuICBsZXQgc3BsaXREYXRlID0gZGF0ZS5zcGxpdChcIi1cIik7XHJcbiAgbGV0IG1vbnRoID0gbW9udGhzW3NwbGl0RGF0ZVsxXSAtIDFdO1xyXG5cclxuICByZXR1cm4gbW9udGggKyBcIiBcIiArIHBhcnNlSW50KHNwbGl0RGF0ZVsyXSwgMTApO1xyXG59XHJcblxyXG4vL0NhbGxzIGZ1bmN0aW9ucyBmb3IgYWRkaW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVuZGVyIGRheXMgZm9yIGFuIGluaXRpYWwgcmVuZGVycy4gQSBkZWZhdWx0IGxvY2F0aW9uIGlzIHNldCBmb3IgdGhlIHNlYXJjaCBpbiB0aGUgcmVuZGVyIGRheXMgbWV0aG9kLlxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gIGFkZEV2ZW50TGlzdGVuZXIoKTtcclxuICByZW5kZXJEYXlzKCk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJBUElLZXkiLCJjb25maWciLCJBUElfS0VZIiwid2VhdGhlck9iamVjdCIsInVuaXRzIiwiYWRkcmVzcyIsImRheXMiLCJjdXJyZW50RmVlbCIsImN1cnJlbnRIdW1pZGl0eSIsImN1cnJlbnRUZW1wIiwiY3VycmVudFdpbmQiLCJhc3luYyIsImdldFdlYXRoZXIiLCJzZWFyY2giLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJ3ZWF0aGVyIiwianNvbiIsImRheXNPZkludGVyZXN0IiwiTWF0aCIsInJvdW5kIiwiaG91cnMiLCJ0ZW1wIiwiZmVlbHNsaWtlIiwiaHVtaWRpdHkiLCJ3aW5kc3BlZWQiLCJpIiwiZGF5IiwibG9jYXRpb24iLCJkYXRlIiwiZGF0ZXRpbWUiLCJsb3ciLCJ0ZW1wbWluIiwiaGlnaCIsInRlbXBtYXgiLCJob3VybHkiLCJjb25kaXRpb24iLCJjb25kaXRpb25zIiwicHJlY2lwIiwicHJlY2lwcHJvYiIsImljb24iLCJwdXNoIiwicXVlcnlKU09OIiwicmVzb2x2ZWRBZGRyZXNzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiYWxlcnQiLCJyZW5kZXJEYXlzIiwiZGl2IiwiaGFzQ2hpbGROb2RlcyIsImxlbmd0aCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImxvY2F0aW9uRGl2IiwidGV4dENvbnRlbnQiLCJ1bml0QnRuIiwiaW5uZXJUZXh0IiwiZm9yRWFjaCIsImlubmVyRGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInNwbGl0RGF0ZSIsInNwbGl0IiwicGFyc2VJbnQiLCJwYXJzZURhdGUiLCJkYXRlRGl2IiwiYXBwZW5kQ2hpbGQiLCJpY29uSG9sZGVyIiwiaWNvbkRpdiIsInNyYyIsInRlbXBEaXYiLCJjb25kRGl2IiwicHJlY2lwRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwibm9kZXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidGQiLCJ1cGRhdGVEYXlzIiwiY3VycldpbmRDZWxsIiwiY2FyZHMiLCJ3aW5kb3ciLCJvbmxvYWQiLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==