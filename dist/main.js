(()=>{"use strict";const e=config.API_KEY,t={units:"us",address:"",days:[],currentFeel:0,currentHumidity:0,currentTemp:0,currentWind:0};async function n(n,d){try{const r=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${n}/next7days?unitGroup=${d}&include=days,hours&key=${e}&contentType=json`,{mode:"cors"}),i=await r.json();let c=await async function(e){let n=[];t.currentTemp=Math.round(e.days[0].hours[0].temp),t.currentFeel=Math.round(e.days[0].hours[0].feelslike),t.currentHumidity=Math.round(e.days[0].hours[0].humidity),t.currentWind=Math.round(e.days[0].hours[0].windspeed);for(let t=0;t<5;t++){let d={location:e.address,date:e.days[t].datetime,low:e.days[t].tempmin,high:e.days[t].tempmax,hourly:e.days[t].hours,condition:e.days[t].conditions,precip:e.days[t].precipprob,icon:e.days[t].icon};n.push(d)}return n}(i);return t.address=i.resolvedAddress,document.getElementById("locationInput").value="",c}catch{alert("No Location Found, Try Again"),document.getElementById("locationInput").value=""}}async function d(){let e=document.getElementById("card-holder"),d="",r="";for(e.hasChildNodes()?(d=document.getElementById("locationInput").value,r=t.units):(d="dallas",r="us"),t.days.length>0&&(t.days=[]),t.days=await n(d,r);e.firstChild;)e.removeChild(e.firstChild);let i=document.getElementById("location");i.textContent="Showing Weather for: "+t.address;let c=document.getElementById("switch-units");"us"==t.units?(i.innerText+="(°F)",c.innerText="Switch to °C"):(i.innerText+="(°C)",c.innerText="Switch to °F"),t.days.forEach((t=>{let n=document.createElement("div");n.className="card";let d=function(e){let t=e.split("-");return["January","February","March","April","May","June","July","August","September","October","November","December"][t[1]-1]+" "+parseInt(t[2],10)}(t.date),r=document.createElement("div");r.className="date",r.innerText=d,n.appendChild(r);let i=document.createElement("div");i.className="icon";let c=document.createElement("img");n.appendChild(i),i.appendChild(c),c.src="../icons/"+t.icon+".svg";let s=document.createElement("div");s.className="temp",s.textContent="High: "+Math.round(t.high)+"° Low: "+Math.round(t.low)+"°",n.appendChild(s);let a=document.createElement("div");a.innerText=t.condition,a.className="condition",n.appendChild(a);let o=document.createElement("div");o.innerText="Precipitation: "+Math.round(t.precip/10)+"%",o.className="precip",n.appendChild(o),e.appendChild(n)})),document.getElementById("container").classList.add(t.days[0].icon),document.getElementsByClassName("card")[0].getElementsByClassName("temp"),document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°",document.getElementById("current-humidity").innerText=t.currentHumidity+"%",document.getElementById("current-wind").innerText=t.currentWind+" mph"}async function r(){"us"==t.units?t.units="metric":t.units="us",t.days=await n(t.address,t.units);let e=document.getElementById("location");e.textContent="Showing Weather for: "+t.address;let d=document.getElementById("switch-units"),r=document.getElementById("current-wind");"us"==t.units?(e.innerText+="(°F)",d.innerText="Switch to °C",r.innerText=t.currentWind+" mph"):(e.innerText+="(°C)",d.innerText="Switch to °F",r.innerText=t.currentWind+" km/h");let i=document.getElementsByClassName("card");for(let e=0;e<t.days.length;e++)i[e].getElementsByClassName("temp")[0].innerText="High: "+Math.round(t.days[e].high)+"° Low: "+Math.round(t.days[e].low)+"°";document.getElementById("current-temp").innerText=t.currentTemp+"°",document.getElementById("current-feels").innerText=t.currentFeel+"°"}window.onload=function(){document.getElementById("search-for-weather").addEventListener("click",d),document.getElementById("switch-units").addEventListener("click",r),d()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFBU0MsT0FBT0MsUUFHaEJDLEVBUUcsQ0FDTEMsTUFSVSxLQVNWQyxRQVJZLEdBU1pDLEtBSlMsR0FLVEMsWUFSZ0IsRUFTaEJDLGdCQVJvQixFQVNwQkMsWUFYZ0IsRUFZaEJDLFlBVGdCLEdBY3BCQyxlQUFlQyxFQUFXQyxFQUFRVCxHQUNoQyxJQUNFLE1BQU1VLFFBQWlCQyxNQUNyQix1RkFBdUZGLHlCQUE4QlQsNEJBQWdDSixxQkFDckosQ0FBRWdCLEtBQU0sU0FFSkMsUUFBZ0JILEVBQVNJLE9BQy9CLElBQUlaLFFBV1JLLGVBQXlCTSxHQUN2QixJQUFJRSxFQUFpQixHQUNyQmhCLEVBQWNNLFlBQWNXLEtBQUtDLE1BQU1KLEVBQVFYLEtBQUssR0FBR2dCLE1BQU0sR0FBR0MsTUFDaEVwQixFQUFjSSxZQUFjYSxLQUFLQyxNQUFNSixFQUFRWCxLQUFLLEdBQUdnQixNQUFNLEdBQUdFLFdBQ2hFckIsRUFBY0ssZ0JBQWtCWSxLQUFLQyxNQUFNSixFQUFRWCxLQUFLLEdBQUdnQixNQUFNLEdBQUdHLFVBQ3BFdEIsRUFBY08sWUFBY1UsS0FBS0MsTUFBTUosRUFBUVgsS0FBSyxHQUFHZ0IsTUFBTSxHQUFHSSxXQUNoRSxJQUFLLElBQUlDLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUFLLENBQzFCLElBQUlDLEVBQU0sQ0FDUkMsU0FBVVosRUFBUVosUUFDbEJ5QixLQUFNYixFQUFRWCxLQUFLcUIsR0FBR0ksU0FDdEJDLElBQUtmLEVBQVFYLEtBQUtxQixHQUFHTSxRQUNyQkMsS0FBTWpCLEVBQVFYLEtBQUtxQixHQUFHUSxRQUN0QkMsT0FBUW5CLEVBQVFYLEtBQUtxQixHQUFHTCxNQUN4QmUsVUFBV3BCLEVBQVFYLEtBQUtxQixHQUFHVyxXQUMzQkMsT0FBUXRCLEVBQVFYLEtBQUtxQixHQUFHYSxXQUN4QkMsS0FBTXhCLEVBQVFYLEtBQUtxQixHQUFHYyxNQUV4QnRCLEVBQWV1QixLQUFLZCxHQUV0QixPQUFPVCxFQTlCWXdCLENBQVUxQixHQUczQixPQUZBZCxFQUFjRSxRQUFVWSxFQUFRMkIsZ0JBQ2hDQyxTQUFTQyxlQUFlLGlCQUFpQkMsTUFBUSxHQUMxQ3pDLEVBQ1AsTUFDQTBDLE1BQU0sZ0NBQ05ILFNBQVNDLGVBQWUsaUJBQWlCQyxNQUFRLElDM0JyRHBDLGVBQWVzQyxJQUNiLElBQUlDLEVBQU1MLFNBQVNDLGVBQWUsZUFDOUJqQyxFQUFTLEdBQ1RULEVBQVEsR0FjWixJQWJJOEMsRUFBSUMsaUJBQ050QyxFRG1EV2dDLFNBQVNDLGVBQWUsaUJBQWlCQyxNQ2xEcEQzQyxFQUFRRCxFQUFjQyxRQUV0QlMsRUFBUyxTQUNUVCxFQUFRLE1BRU5ELEVBQWNHLEtBQUs4QyxPQUFTLElBQzlCakQsRUFBY0csS0FBTyxJQUd2QkgsRUFBY0csV0FBYU0sRUFBV0MsRUFBUVQsR0FFdkM4QyxFQUFJRyxZQUNUSCxFQUFJSSxZQUFZSixFQUFJRyxZQUV0QixJQUFJRSxFQUFjVixTQUFTQyxlQUFlLFlBQzFDUyxFQUFZQyxZQUFjLHdCQUEwQnJELEVBQWNFLFFBQ2xFLElBQUlvRCxFQUFVWixTQUFTQyxlQUFlLGdCQUNYLE1BQXZCM0MsRUFBY0MsT0FDaEJtRCxFQUFZRyxXQUFhLE9BQ3pCRCxFQUFRQyxVQUFZLGlCQUVwQkgsRUFBWUcsV0FBYSxPQUN6QkQsRUFBUUMsVUFBWSxnQkFFdEJ2RCxFQUFjRyxLQUFLcUQsU0FBUy9CLElBQzFCLElBQUlnQyxFQUFXZixTQUFTZ0IsY0FBYyxPQUN0Q0QsRUFBU0UsVUFBWSxPQUVyQixJQUFJaEMsRUE4R1IsU0FBbUJBLEdBQ2pCLElBY0lpQyxFQUFZakMsRUFBS2tDLE1BQU0sS0FHM0IsTUFqQmEsQ0FDWCxVQUNBLFdBQ0EsUUFDQSxRQUNBLE1BQ0EsT0FDQSxPQUNBLFNBQ0EsWUFDQSxVQUNBLFdBQ0EsWUFHaUJELEVBQVUsR0FBSyxHQUVuQixJQUFNRSxTQUFTRixFQUFVLEdBQUksSUFoSS9CRyxDQUFVdEMsRUFBSUUsTUFDckJxQyxFQUFVdEIsU0FBU2dCLGNBQWMsT0FDckNNLEVBQVFMLFVBQVksT0FDcEJLLEVBQVFULFVBQVk1QixFQUNwQjhCLEVBQVNRLFlBQVlELEdBRXJCLElBQUlFLEVBQWF4QixTQUFTZ0IsY0FBYyxPQUN4Q1EsRUFBV1AsVUFBWSxPQUN2QixJQUFJUSxFQUFVekIsU0FBU2dCLGNBQWMsT0FDckNELEVBQVNRLFlBQVlDLEdBQ3JCQSxFQUFXRCxZQUFZRSxHQUN2QkEsRUFBUUMsSUFBTSxZQUFjM0MsRUFBSWEsS0FBTyxPQUV2QyxJQUFJK0IsRUFBVTNCLFNBQVNnQixjQUFjLE9BQ3JDVyxFQUFRVixVQUFZLE9BQ3BCVSxFQUFRaEIsWUFDTixTQUNBcEMsS0FBS0MsTUFBTU8sRUFBSU0sTUFEZixVQUlBZCxLQUFLQyxNQUFNTyxFQUFJSSxLQUNmLElBQ0Y0QixFQUFTUSxZQUFZSSxHQUVyQixJQUFJQyxFQUFVNUIsU0FBU2dCLGNBQWMsT0FDckNZLEVBQVFmLFVBQVk5QixFQUFJUyxVQUN4Qm9DLEVBQVFYLFVBQVksWUFDcEJGLEVBQVNRLFlBQVlLLEdBRXJCLElBQUlDLEVBQVk3QixTQUFTZ0IsY0FBYyxPQUN2Q2EsRUFBVWhCLFVBQVksa0JBQW9CdEMsS0FBS0MsTUFBTU8sRUFBSVcsT0FBUyxJQUFNLElBQ3hFbUMsRUFBVVosVUFBWSxTQUN0QkYsRUFBU1EsWUFBWU0sR0FDckJ4QixFQUFJa0IsWUFBWVIsTUFHbEJmLFNBQ0dDLGVBQWUsYUFDZjZCLFVBQVVDLElBQUl6RSxFQUFjRyxLQUFLLEdBQUdtQyxNQUMzQkksU0FBU2dDLHVCQUF1QixRQUM3QixHQUFHQSx1QkFBdUIsUUFFdEJoQyxTQUFTQyxlQUFlLGdCQUM5QlksVUFBWXZELEVBQWNNLFlBQWMsSUFFbENvQyxTQUFTQyxlQUFlLGlCQUM5QlksVUFBWXZELEVBQWNJLFlBQWMsSUFFakNzQyxTQUFTQyxlQUFlLG9CQUM5QlksVUFBWXZELEVBQWNLLGdCQUFrQixJQUV2Q3FDLFNBQVNDLGVBQWUsZ0JBQzlCWSxVQUFZdkQsRUFBY08sWUFBYyxPQUt2REMsZUFBZW1FLElEN0JjLE1BQXZCM0UsRUFBY0MsTUFDaEJELEVBQWNDLE1BQVEsU0FFdEJELEVBQWNDLE1BQVEsS0M2QnhCRCxFQUFjRyxXQUFhTSxFQUN6QlQsRUFBY0UsUUFDZEYsRUFBY0MsT0FHaEIsSUFBSW1ELEVBQWNWLFNBQVNDLGVBQWUsWUFDMUNTLEVBQVlDLFlBQWMsd0JBQTBCckQsRUFBY0UsUUFFbEUsSUFBSW9ELEVBQVVaLFNBQVNDLGVBQWUsZ0JBQ2xDaUMsRUFBZWxDLFNBQVNDLGVBQWUsZ0JBRWhCLE1BQXZCM0MsRUFBY0MsT0FDaEJtRCxFQUFZRyxXQUFhLE9BQ3pCRCxFQUFRQyxVQUFZLGVBQ3BCcUIsRUFBYXJCLFVBQVl2RCxFQUFjTyxZQUFjLFNBRXJENkMsRUFBWUcsV0FBYSxPQUN6QkQsRUFBUUMsVUFBWSxlQUNwQnFCLEVBQWFyQixVQUFZdkQsRUFBY08sWUFBYyxTQUd2RCxJQUFJc0UsRUFBUW5DLFNBQVNnQyx1QkFBdUIsUUFDNUMsSUFBSyxJQUFJbEQsRUFBSSxFQUFHQSxFQUFJeEIsRUFBY0csS0FBSzhDLE9BQVF6QixJQUM5QnFELEVBQU1yRCxHQUFHa0QsdUJBQXVCLFFBQ3RDLEdBQUduQixVQUNWLFNBQ0F0QyxLQUFLQyxNQUFNbEIsRUFBY0csS0FBS3FCLEdBQUdPLE1BRGpDLFVBSUFkLEtBQUtDLE1BQU1sQixFQUFjRyxLQUFLcUIsR0FBR0ssS0FDakMsSUFHZWEsU0FBU0MsZUFBZSxnQkFDOUJZLFVBQVl2RCxFQUFjTSxZQUFjLElBRWxDb0MsU0FBU0MsZUFBZSxpQkFDOUJZLFVBQVl2RCxFQUFjSSxZQUFjLElBbUN2RDBFLE9BQU9DLE9BQVMsV0E5QmRyQyxTQUNHQyxlQUFlLHNCQUNmcUMsaUJBQWlCLFFBQVNsQyxHQUU3QkosU0FBU0MsZUFBZSxnQkFBZ0JxQyxpQkFBaUIsUUFBU0wsR0E0QmxFN0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4td2VhdGhlci8uL3NyYy9tb2R1bGVzL3dlYXRoZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi13ZWF0aGVyLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSUtleSA9IGNvbmZpZy5BUElfS0VZO1xyXG5cclxuLy9BbiBvYmplY3QgdGhhdCBob2xkcyBhbGwgaW5mbyBuZWVkZWQgZm9yIHJlbmRlcmluZy5cclxuY29uc3Qgd2VhdGhlck9iamVjdCA9ICgoKSA9PiB7XHJcbiAgbGV0IHVuaXRzID0gXCJ1c1wiO1xyXG4gIGxldCBhZGRyZXNzID0gXCJcIjtcclxuICBsZXQgY3VycmVudFRlbXAgPSAwO1xyXG4gIGxldCBjdXJyZW50RmVlbCA9IDA7XHJcbiAgbGV0IGN1cnJlbnRIdW1pZGl0eSA9IDA7XHJcbiAgbGV0IGN1cnJlbnRXaW5kID0gMDtcclxuICBsZXQgZGF5cyA9IFtdO1xyXG4gIHJldHVybiB7XHJcbiAgICB1bml0cyxcclxuICAgIGFkZHJlc3MsXHJcbiAgICBkYXlzLFxyXG4gICAgY3VycmVudEZlZWwsXHJcbiAgICBjdXJyZW50SHVtaWRpdHksXHJcbiAgICBjdXJyZW50VGVtcCxcclxuICAgIGN1cnJlbnRXaW5kLFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG4vL0Z1bmN0aW9uIHVzZWQgdG8gZ2V0IHdlYXRoZXIgd2hlbiBhIG5ldyBzZWFyY2ggaXMgbWFkZSBvciB3aGVuIHVuaXRzIGFyZSBzd2l0Y2hlZC5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0V2VhdGhlcihzZWFyY2gsIHVuaXRzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL3dlYXRoZXIudmlzdWFsY3Jvc3NpbmcuY29tL1Zpc3VhbENyb3NzaW5nV2ViU2VydmljZXMvcmVzdC9zZXJ2aWNlcy90aW1lbGluZS8ke3NlYXJjaH0vbmV4dDdkYXlzP3VuaXRHcm91cD0ke3VuaXRzfSZpbmNsdWRlPWRheXMsaG91cnMma2V5PSR7QVBJS2V5fSZjb250ZW50VHlwZT1qc29uYCxcclxuICAgICAgeyBtb2RlOiBcImNvcnNcIiB9XHJcbiAgICApO1xyXG4gICAgY29uc3Qgd2VhdGhlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGxldCBkYXlzID0gYXdhaXQgcXVlcnlKU09OKHdlYXRoZXIpO1xyXG4gICAgd2VhdGhlck9iamVjdC5hZGRyZXNzID0gd2VhdGhlci5yZXNvbHZlZEFkZHJlc3M7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvY2F0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gICAgcmV0dXJuIGRheXM7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICBhbGVydChcIk5vIExvY2F0aW9uIEZvdW5kLCBUcnkgQWdhaW5cIik7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvY2F0aW9uSW5wdXRcIikudmFsdWUgPSBcIlwiO1xyXG4gIH1cclxufVxyXG5cclxuLy9GdW5jdGlvbiB0byBleHRyYWN0IG5lZWRlZCBpbmZvIGZyb20gdGhlIEFQSSBjYWxsLlxyXG5hc3luYyBmdW5jdGlvbiBxdWVyeUpTT04od2VhdGhlcikge1xyXG4gIGxldCBkYXlzT2ZJbnRlcmVzdCA9IFtdO1xyXG4gIHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgPSBNYXRoLnJvdW5kKHdlYXRoZXIuZGF5c1swXS5ob3Vyc1swXS50ZW1wKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRGZWVsID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0uZmVlbHNsaWtlKTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRIdW1pZGl0eSA9IE1hdGgucm91bmQod2VhdGhlci5kYXlzWzBdLmhvdXJzWzBdLmh1bWlkaXR5KTtcclxuICB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kID0gTWF0aC5yb3VuZCh3ZWF0aGVyLmRheXNbMF0uaG91cnNbMF0ud2luZHNwZWVkKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgbGV0IGRheSA9IHtcclxuICAgICAgbG9jYXRpb246IHdlYXRoZXIuYWRkcmVzcyxcclxuICAgICAgZGF0ZTogd2VhdGhlci5kYXlzW2ldLmRhdGV0aW1lLFxyXG4gICAgICBsb3c6IHdlYXRoZXIuZGF5c1tpXS50ZW1wbWluLFxyXG4gICAgICBoaWdoOiB3ZWF0aGVyLmRheXNbaV0udGVtcG1heCxcclxuICAgICAgaG91cmx5OiB3ZWF0aGVyLmRheXNbaV0uaG91cnMsXHJcbiAgICAgIGNvbmRpdGlvbjogd2VhdGhlci5kYXlzW2ldLmNvbmRpdGlvbnMsXHJcbiAgICAgIHByZWNpcDogd2VhdGhlci5kYXlzW2ldLnByZWNpcHByb2IsXHJcbiAgICAgIGljb246IHdlYXRoZXIuZGF5c1tpXS5pY29uLFxyXG4gICAgfTtcclxuICAgIGRheXNPZkludGVyZXN0LnB1c2goZGF5KTtcclxuICB9XHJcbiAgcmV0dXJuIGRheXNPZkludGVyZXN0O1xyXG59XHJcblxyXG4vL0Z1bmN0aW9uIHRvIGdldCB0aGUgc2VhcmNoIHZhbHVlIGZyb20gdGhlIEhUTUwuXHJcbmZ1bmN0aW9uIGdldFNlYXJjaCgpIHtcclxuICBsZXQgc2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvbklucHV0XCIpLnZhbHVlO1xyXG4gIHJldHVybiBzZWFyY2g7XHJcbn1cclxuXHJcbi8vRnVuY3Rpb24gdGhhdCBjaGFuZ2VzIHRoZSB1bml0IHRoYXQgaXMgc3RvcmVkIGluIHRoZSB3ZWF0aGVyIG9iamVjdC5cclxuZnVuY3Rpb24gc3dpdGNoVW5pdHMoKSB7XHJcbiAgaWYgKHdlYXRoZXJPYmplY3QudW5pdHMgPT0gXCJ1c1wiKSB7XHJcbiAgICB3ZWF0aGVyT2JqZWN0LnVuaXRzID0gXCJtZXRyaWNcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgd2VhdGhlck9iamVjdC51bml0cyA9IFwidXNcIjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IHdlYXRoZXJPYmplY3QsIGdldFdlYXRoZXIsIHN3aXRjaFVuaXRzLCBnZXRTZWFyY2ggfTtcclxuIiwiaW1wb3J0IHtcclxuICB3ZWF0aGVyT2JqZWN0LFxyXG4gIGdldFdlYXRoZXIsXHJcbiAgc3dpdGNoVW5pdHMsXHJcbiAgZ2V0U2VhcmNoLFxyXG59IGZyb20gXCIuL21vZHVsZXMvd2VhdGhlci5qc1wiO1xyXG5cclxuLy9GdW5jdGlvbiBmb3IgcmVuZGVyaW5nIHRoZSBkYXRhIHRoYXQgaXMgc3RvcmVkIGluIHRoZSB3ZWF0aGVyIG9iamVjdC4gQ2FsbGVkXHJcbi8vIHdoZW4gYSBuZXcgbG9jYXRpb24gaXMgc2VhcmNoZWQgYWxzbyBvbiBwYWdlIGxvYWQuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlbmRlckRheXMoKSB7XHJcbiAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZC1ob2xkZXJcIik7XHJcbiAgbGV0IHNlYXJjaCA9IFwiXCI7XHJcbiAgbGV0IHVuaXRzID0gXCJcIjtcclxuICBpZiAoZGl2Lmhhc0NoaWxkTm9kZXMoKSkge1xyXG4gICAgc2VhcmNoID0gZ2V0U2VhcmNoKCk7XHJcbiAgICB1bml0cyA9IHdlYXRoZXJPYmplY3QudW5pdHM7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlYXJjaCA9IFwiZGFsbGFzXCI7XHJcbiAgICB1bml0cyA9IFwidXNcIjtcclxuICB9XHJcbiAgaWYgKHdlYXRoZXJPYmplY3QuZGF5cy5sZW5ndGggPiAwKSB7XHJcbiAgICB3ZWF0aGVyT2JqZWN0LmRheXMgPSBbXTtcclxuICB9XHJcblxyXG4gIHdlYXRoZXJPYmplY3QuZGF5cyA9IGF3YWl0IGdldFdlYXRoZXIoc2VhcmNoLCB1bml0cyk7XHJcblxyXG4gIHdoaWxlIChkaXYuZmlyc3RDaGlsZCkge1xyXG4gICAgZGl2LnJlbW92ZUNoaWxkKGRpdi5maXJzdENoaWxkKTtcclxuICB9XHJcbiAgbGV0IGxvY2F0aW9uRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvblwiKTtcclxuICBsb2NhdGlvbkRpdi50ZXh0Q29udGVudCA9IFwiU2hvd2luZyBXZWF0aGVyIGZvcjogXCIgKyB3ZWF0aGVyT2JqZWN0LmFkZHJlc3M7XHJcbiAgbGV0IHVuaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN3aXRjaC11bml0c1wiKTtcclxuICBpZiAod2VhdGhlck9iamVjdC51bml0cyA9PSBcInVzXCIpIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwRilcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwQ2A7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxvY2F0aW9uRGl2LmlubmVyVGV4dCArPSBcIihcXHUwMEIwQylcIjtcclxuICAgIHVuaXRCdG4uaW5uZXJUZXh0ID0gYFN3aXRjaCB0byBcXHUwMEIwRmA7XHJcbiAgfVxyXG4gIHdlYXRoZXJPYmplY3QuZGF5cy5mb3JFYWNoKChkYXkpID0+IHtcclxuICAgIGxldCBpbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbm5lckRpdi5jbGFzc05hbWUgPSBcImNhcmRcIjtcclxuXHJcbiAgICBsZXQgZGF0ZSA9IHBhcnNlRGF0ZShkYXkuZGF0ZSk7XHJcbiAgICBsZXQgZGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkYXRlRGl2LmNsYXNzTmFtZSA9IFwiZGF0ZVwiO1xyXG4gICAgZGF0ZURpdi5pbm5lclRleHQgPSBkYXRlO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQoZGF0ZURpdik7XHJcblxyXG4gICAgbGV0IGljb25Ib2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaWNvbkhvbGRlci5jbGFzc05hbWUgPSBcImljb25cIjtcclxuICAgIGxldCBpY29uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKGljb25Ib2xkZXIpO1xyXG4gICAgaWNvbkhvbGRlci5hcHBlbmRDaGlsZChpY29uRGl2KTtcclxuICAgIGljb25EaXYuc3JjID0gXCIuLi9pY29ucy9cIiArIGRheS5pY29uICsgXCIuc3ZnXCI7XHJcblxyXG4gICAgbGV0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGVtcERpdi5jbGFzc05hbWUgPSBcInRlbXBcIjtcclxuICAgIHRlbXBEaXYudGV4dENvbnRlbnQgPVxyXG4gICAgICBcIkhpZ2g6IFwiICtcclxuICAgICAgTWF0aC5yb3VuZChkYXkuaGlnaCkgK1xyXG4gICAgICBgXFx1MDBCMGAgK1xyXG4gICAgICBcIiBMb3c6IFwiICtcclxuICAgICAgTWF0aC5yb3VuZChkYXkubG93KSArXHJcbiAgICAgIGBcXHUwMEIwYDtcclxuICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKHRlbXBEaXYpO1xyXG5cclxuICAgIGxldCBjb25kRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNvbmREaXYuaW5uZXJUZXh0ID0gZGF5LmNvbmRpdGlvbjtcclxuICAgIGNvbmREaXYuY2xhc3NOYW1lID0gXCJjb25kaXRpb25cIjtcclxuICAgIGlubmVyRGl2LmFwcGVuZENoaWxkKGNvbmREaXYpO1xyXG5cclxuICAgIGxldCBwcmVjaXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcHJlY2lwRGl2LmlubmVyVGV4dCA9IFwiUHJlY2lwaXRhdGlvbjogXCIgKyBNYXRoLnJvdW5kKGRheS5wcmVjaXAgLyAxMCkgKyBcIiVcIjtcclxuICAgIHByZWNpcERpdi5jbGFzc05hbWUgPSBcInByZWNpcFwiO1xyXG4gICAgaW5uZXJEaXYuYXBwZW5kQ2hpbGQocHJlY2lwRGl2KTtcclxuICAgIGRpdi5hcHBlbmRDaGlsZChpbm5lckRpdik7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIilcclxuICAgIC5jbGFzc0xpc3QuYWRkKHdlYXRoZXJPYmplY3QuZGF5c1swXS5pY29uKTtcclxuICBsZXQgbm9kZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2FyZFwiKTtcclxuICBsZXQgdGQgPSBub2Rlc1swXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGVtcFwiKTtcclxuXHJcbiAgbGV0IGN1cnJUZW1wQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC10ZW1wXCIpO1xyXG4gIGN1cnJUZW1wQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRUZW1wICsgXCJcXHUwMEIwXCI7XHJcblxyXG4gIGxldCBjdXJyRmVlbENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtZmVlbHNcIik7XHJcbiAgY3VyckZlZWxDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudEZlZWwgKyBcIlxcdTAwQjBcIjtcclxuXHJcbiAgbGV0IGN1cnJIdW1pZENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtaHVtaWRpdHlcIik7XHJcbiAgY3Vyckh1bWlkQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRIdW1pZGl0eSArIFwiJVwiO1xyXG5cclxuICBsZXQgY3VycldpbmRDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LXdpbmRcIik7XHJcbiAgY3VycldpbmRDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFdpbmQgKyBcIiBtcGhcIjtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gZm9yIHN3aXRjaGluZyB1bml0cyBiZXR3ZWVuIHVzIGFuZCBtZXRyaWMuIENhbGxlZCB3aGVuIHRoZSBzd2l0Y2ggdW5pdHMgYnV0dG9uIGlzIGNsaWNrZWQuXHJcbi8vIFVwZGF0ZXMgdGVtcGVyYXR1cmVzIG9uIGNhcmRzIGFuZCBjdXJyZW50IGNvbmRpdGlvbiB0ZW1wZXJhdHVyZXMuIEFsc28gdXBkYXRlcyB3aW5kIHNwZWVkIGluIGN1cnJlbnQgY29uZGl0aW9ucy5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlRGF5cygpIHtcclxuICBzd2l0Y2hVbml0cygpO1xyXG5cclxuICB3ZWF0aGVyT2JqZWN0LmRheXMgPSBhd2FpdCBnZXRXZWF0aGVyKFxyXG4gICAgd2VhdGhlck9iamVjdC5hZGRyZXNzLFxyXG4gICAgd2VhdGhlck9iamVjdC51bml0c1xyXG4gICk7XHJcblxyXG4gIGxldCBsb2NhdGlvbkRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYXRpb25cIik7XHJcbiAgbG9jYXRpb25EaXYudGV4dENvbnRlbnQgPSBcIlNob3dpbmcgV2VhdGhlciBmb3I6IFwiICsgd2VhdGhlck9iamVjdC5hZGRyZXNzO1xyXG5cclxuICBsZXQgdW5pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3dpdGNoLXVuaXRzXCIpO1xyXG4gIGxldCBjdXJyV2luZENlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnQtd2luZFwiKTtcclxuXHJcbiAgaWYgKHdlYXRoZXJPYmplY3QudW5pdHMgPT0gXCJ1c1wiKSB7XHJcbiAgICBsb2NhdGlvbkRpdi5pbm5lclRleHQgKz0gXCIoXFx1MDBCMEYpXCI7XHJcbiAgICB1bml0QnRuLmlubmVyVGV4dCA9IGBTd2l0Y2ggdG8gXFx1MDBCMENgO1xyXG4gICAgY3VycldpbmRDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFdpbmQgKyBcIiBtcGhcIjtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9jYXRpb25EaXYuaW5uZXJUZXh0ICs9IFwiKFxcdTAwQjBDKVwiO1xyXG4gICAgdW5pdEJ0bi5pbm5lclRleHQgPSBgU3dpdGNoIHRvIFxcdTAwQjBGYDtcclxuICAgIGN1cnJXaW5kQ2VsbC5pbm5lclRleHQgPSB3ZWF0aGVyT2JqZWN0LmN1cnJlbnRXaW5kICsgXCIga20vaFwiO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNhcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNhcmRcIik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWF0aGVyT2JqZWN0LmRheXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCB0ZW1wRGl2cyA9IGNhcmRzW2ldLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZW1wXCIpO1xyXG4gICAgdGVtcERpdnNbMF0uaW5uZXJUZXh0ID1cclxuICAgICAgXCJIaWdoOiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQod2VhdGhlck9iamVjdC5kYXlzW2ldLmhpZ2gpICtcclxuICAgICAgYFxcdTAwQjBgICtcclxuICAgICAgXCIgTG93OiBcIiArXHJcbiAgICAgIE1hdGgucm91bmQod2VhdGhlck9iamVjdC5kYXlzW2ldLmxvdykgK1xyXG4gICAgICBgXFx1MDBCMGA7XHJcbiAgfVxyXG5cclxuICBsZXQgY3VyclRlbXBDZWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50LXRlbXBcIik7XHJcbiAgY3VyclRlbXBDZWxsLmlubmVyVGV4dCA9IHdlYXRoZXJPYmplY3QuY3VycmVudFRlbXAgKyBcIlxcdTAwQjBcIjtcclxuXHJcbiAgbGV0IGN1cnJGZWVsQ2VsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudC1mZWVsc1wiKTtcclxuICBjdXJyRmVlbENlbGwuaW5uZXJUZXh0ID0gd2VhdGhlck9iamVjdC5jdXJyZW50RmVlbCArIFwiXFx1MDBCMFwiO1xyXG59XHJcblxyXG4vL0FkZHMgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgc2VhcmNoIGJ1dHRvbiBhbmQgdGhlIHN3aXRjaCB1bml0cyBidXR0b24uXHJcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1mb3Itd2VhdGhlclwiKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW5kZXJEYXlzKTtcclxuXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzd2l0Y2gtdW5pdHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHVwZGF0ZURheXMpO1xyXG59XHJcblxyXG4vL0NhbGxlZCB3aGVuIGNhcmRzIGFyZSByZW5kZXJlZC4gVXNlZCB0byBwcm9wZXJseSBkaXNwbGF5IHRoZSBtb250aCBuYW1lIChyYXRoZXIgdGhhbiBtb250aCBudW1iZXIpIGFuZCBkYXkgaW4gY29ycmVjdCBvcmRlci5cclxuZnVuY3Rpb24gcGFyc2VEYXRlKGRhdGUpIHtcclxuICBsZXQgbW9udGhzID0gW1xyXG4gICAgXCJKYW51YXJ5XCIsXHJcbiAgICBcIkZlYnJ1YXJ5XCIsXHJcbiAgICBcIk1hcmNoXCIsXHJcbiAgICBcIkFwcmlsXCIsXHJcbiAgICBcIk1heVwiLFxyXG4gICAgXCJKdW5lXCIsXHJcbiAgICBcIkp1bHlcIixcclxuICAgIFwiQXVndXN0XCIsXHJcbiAgICBcIlNlcHRlbWJlclwiLFxyXG4gICAgXCJPY3RvYmVyXCIsXHJcbiAgICBcIk5vdmVtYmVyXCIsXHJcbiAgICBcIkRlY2VtYmVyXCIsXHJcbiAgXTtcclxuICBsZXQgc3BsaXREYXRlID0gZGF0ZS5zcGxpdChcIi1cIik7XHJcbiAgbGV0IG1vbnRoID0gbW9udGhzW3NwbGl0RGF0ZVsxXSAtIDFdO1xyXG5cclxuICByZXR1cm4gbW9udGggKyBcIiBcIiArIHBhcnNlSW50KHNwbGl0RGF0ZVsyXSwgMTApO1xyXG59XHJcblxyXG4vL0NhbGxzIGZ1bmN0aW9ucyBmb3IgYWRkaW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVuZGVyIGRheXMgZm9yIGFuIGluaXRpYWwgcmVuZGVycy4gQSBkZWZhdWx0IGxvY2F0aW9uIGlzIHNldCBmb3IgdGhlIHNlYXJjaCBpbiB0aGUgcmVuZGVyIGRheXMgbWV0aG9kLlxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gIGFkZEV2ZW50TGlzdGVuZXIoKTtcclxuICByZW5kZXJEYXlzKCk7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJBUElLZXkiLCJjb25maWciLCJBUElfS0VZIiwid2VhdGhlck9iamVjdCIsInVuaXRzIiwiYWRkcmVzcyIsImRheXMiLCJjdXJyZW50RmVlbCIsImN1cnJlbnRIdW1pZGl0eSIsImN1cnJlbnRUZW1wIiwiY3VycmVudFdpbmQiLCJhc3luYyIsImdldFdlYXRoZXIiLCJzZWFyY2giLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsIndlYXRoZXIiLCJqc29uIiwiZGF5c09mSW50ZXJlc3QiLCJNYXRoIiwicm91bmQiLCJob3VycyIsInRlbXAiLCJmZWVsc2xpa2UiLCJodW1pZGl0eSIsIndpbmRzcGVlZCIsImkiLCJkYXkiLCJsb2NhdGlvbiIsImRhdGUiLCJkYXRldGltZSIsImxvdyIsInRlbXBtaW4iLCJoaWdoIiwidGVtcG1heCIsImhvdXJseSIsImNvbmRpdGlvbiIsImNvbmRpdGlvbnMiLCJwcmVjaXAiLCJwcmVjaXBwcm9iIiwiaWNvbiIsInB1c2giLCJxdWVyeUpTT04iLCJyZXNvbHZlZEFkZHJlc3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJhbGVydCIsInJlbmRlckRheXMiLCJkaXYiLCJoYXNDaGlsZE5vZGVzIiwibGVuZ3RoIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibG9jYXRpb25EaXYiLCJ0ZXh0Q29udGVudCIsInVuaXRCdG4iLCJpbm5lclRleHQiLCJmb3JFYWNoIiwiaW5uZXJEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3BsaXREYXRlIiwic3BsaXQiLCJwYXJzZUludCIsInBhcnNlRGF0ZSIsImRhdGVEaXYiLCJhcHBlbmRDaGlsZCIsImljb25Ib2xkZXIiLCJpY29uRGl2Iiwic3JjIiwidGVtcERpdiIsImNvbmREaXYiLCJwcmVjaXBEaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidXBkYXRlRGF5cyIsImN1cnJXaW5kQ2VsbCIsImNhcmRzIiwid2luZG93Iiwib25sb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=